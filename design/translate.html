<!DOCTYPE html>
<html xlmns='https://www.w3.org/1999/xhtml' xlmns:fb='https://ogp.me/ns/fb#'>

<head>
	<title>Loss in Translation</title>

	<meta charset='utf-8'/>
	<meta http-equiv='X-UA-Compatible' content='IE=edge'/>
	<meta name='description' content='A study on the invertibility of translation between languages'/>
	<meta name='viewport' content='width=device-width, initial-scale=1'/>
	<meta name='news_keywords' content='translation, language, Google Translate, data visualization'/>

	<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Nunito|Libre+Baskerville|Alegreya'>

	<!-- <link rel='icon' type='image/png' href='https://www.devangthakkar.com/design/assets/favicons/favicon.png'> -->
	<link rel='apple-touch-icon' sizes='57x57' href='https://www.devangthakkar.com/design/assets/favicons/apple-icon-57x57.png'>
	<link rel='apple-touch-icon' sizes='60x60' href='https://www.devangthakkar.com/design/assets/favicons/apple-icon-60x60.png'>
	<link rel='apple-touch-icon' sizes='72x72' href='https://www.devangthakkar.com/design/assets/favicons/apple-icon-72x72.png'>
	<link rel='apple-touch-icon' sizes='76x76' href='https://www.devangthakkar.com/design/assets/favicons/apple-icon-76x76.png'>
	<link rel='apple-touch-icon' sizes='114x114' href='https://www.devangthakkar.com/design/assets/favicons/apple-icon-114x114.png'>
	<link rel='apple-touch-icon' sizes='120x120' href='https://www.devangthakkar.com/design/assets/favicons/apple-icon-120x120.png'>
	<link rel='apple-touch-icon' sizes='144x144' href='https://www.devangthakkar.com/design/assets/favicons/apple-icon-144x144.png'>
	<link rel='apple-touch-icon' sizes='152x152' href='https://www.devangthakkar.com/design/assets/favicons/apple-icon-152x152.png'>
	<link rel='apple-touch-icon' sizes='180x180' href='https://www.devangthakkar.com/design/assets/favicons/apple-icon-180x180.png'>

	<!-- <link rel='icon' type='image/png' sizes='192x192'  href='https://www.devangthakkar.com/design/assets/favicons/android-icon-192x192.png'>
	<link rel='icon' type='image/png' sizes='32x32' href='https://www.devangthakkar.com/design/assets/favicons/favicon-32x32.png'>
	<link rel='icon' type='image/png' sizes='96x96' href='https://www.devangthakkar.com/design/assets/favicons/favicon-96x96.png'>
	<link rel='icon' type='image/png' sizes='16x16' href='https://www.devangthakkar.com/design/assets/favicons/favicon-16x16.png'> -->
	<link rel='manifest' href='https://www.devangthakkar.com/design/assets/favicons/manifest.json'>

	<meta name='msapplication-TileColor' content='#303'>
	<meta name='msapplication-TileImage' content='https://www.devangthakkar.com/design/assets/favicons/ms-icon-144x144.png'>
	<meta name='theme-color' content='#303'>
	<meta name='msapplication-navbutton-color' content='#303'>

	<meta property='og:title' content='Loss in Translation'/>
	<meta property='og:site_name' content='Devang Thakkar'/>
	<meta property='og:url' content='https://www.devangthakkar.com/design/translate'/>
	<meta property='og:description' content='What 1000 words in 103 languages reveal about translation invertibility'/>
	<meta property='og:type' content='article'/>
	<meta property='og:locale' content='en_US'/>
	<meta property='og:image' content='https://www.devangthakkar.com/design/assets/social/social-facebook.jpg'/>
	<meta property='og:image:width' content='1200'/>
	<meta property='og:image:height' content='630'/>

	<meta name='twitter:card' content='summary_large_image'/>
	<meta name='twitter:site' content='https://www.devangthakkar.com/design/translate'/>
	<meta name='twitter:creator' content='@devangvang'/>
	<meta name='twitter:title' content='Loss in Translation'/>
	<meta name='twitter:description' content='What 1000 words in 103 languages reveal about invertibility of translation'/>
	<meta name='twitter:image:src' content='https://www.devangthakkar.com/design/assets/social/social-twitter.jpg'/>

	<link rel='shortcut icon' href='https://www.devangthakkar.com/design/assets/favicons/favicon.png?v=6'>

	<style type='text/css'>
		* {
			box-sizing: border-box;
		}

		html {
			/*padding: 10px;*/
			margin: 0px;
			width: 100%;
			height: 100%;
			min-height: 1800px;
			background-origin: border-box;
		}

		body {
			width: 100%;
			height: 100%;
			min-height: 1800px;
			margin: auto;
		}

		/* custom scrollbar */
		/* width */
		::-webkit-scrollbar {
			width: 10px;
		}

		/* Track */
		::-webkit-scrollbar-track {
			background: #dcd;
		}
		 
		/* Handle */
		::-webkit-scrollbar-thumb {
			background: #404;
		}

		/* Handle on hover */
		::-webkit-scrollbar-thumb:hover {
			background: #535;
		}

		.preload {
			display: none;
		}

		#main_div {
			width: 100%;
		}

		.intro {
			padding: 16px;
			padding-bottom: 24px;
		}

		.title {
			font-family: 'Libre Baskerville', 'Palatino Linotype', 'Georgia', serif;
			font-size: 10vw;
			color: #505;
			text-align: center;
			margin-bottom: 0px;
		}

		.intro__hed {
			padding: 10px;
			font-family: 'Alegreya', serif;
			font-size: 6vw;
			color: #505;
			text-align: center;
		}

		.name {
			font-family: 'Nunito', sans-serif;
			font-size: 15px;
			margin-top: 5px;
			color: #505;
			text-align: center;
		}

		a:link {
			text-decoration: none;
			font-family: 'Nunito', sans-serif;
			font-size: 15px;
			color: #505;
			-webkit-transition:.3s;
			-o-transition:.3s;
			transition:.3s;
		}

		a:hover {
			text-decoration: none;
			font-family: 'Nunito', sans-serif;
			font-size: 15px;
			color: #808;
			-webkit-transition:.3s;
			-o-transition:.3s;
			transition:.3s;
		}

		.prose1, .prose2, .prose3, .prose3_footnote {
			display: inline-block;
			color: #505;
			background-color: rgba(255, 255, 255, .85);
			margin-top: 20px;
			padding-top: 10px;
			padding-left: 35px;
			padding-right: 25px;
			font-family: 'Nunito', sans-serif;
			word-spacing: 0.2em;
			white-space: normal;
			word-wrap: break-word;
		}

		.prose1, .prose2, .prose3 {
			font-size: 15px;
			line-height:1.7;
		}

		.prose3_footnote {
			margin-top: -10px;
			font-size: 13px;
			line-height: 1.5;
		}

		.word_chain_counter {
			display: none;
		}

		.rank_plot_counter {
			display: none;
		}

		.word_spiral_counter {
			display: none;
		}

		#word_chains {
			max-width: 100%;
			margin-top: -20px;
		}

		#wc_svg {
			max-width: 100%;
			display: block;
			margin: auto;
			background-color: rgba(255, 255, 255, .85);
		}

		#button_div {
			margin-bottom: 20px;
		}

		.button {
			background-color: #505;
			border: none;
			border-radius: 4px;
			color: white;
			padding: 15px 32px;
			text-align: center;
			text-decoration: none;
			display: inline-block;
			font-size: 16px;
			margin: 4px 2px;
			cursor: pointer;
		}

		.button:hover {
			background-color: #707;
		}

		.button:focus {
			outline: none;
		}

		.wc_caption {
			background-color: rgba(255, 255, 255, .85);
			width: 80%;
			font-family: 'Nunito', sans-serif;
			font-size: 15px;
			color: #505;
			margin: auto;
			margin-bottom: 20px;
			line-height: 1.5;
		}

		#rank_plot {
			max-width: 100%;
			margin-top: -10px;
			margin-left: 35px;
			margin-right: 35px;
		}

		#rank_svg {
			max-width: 110%;
			display: block;
			margin: auto;
			background-color: rgba(255, 255, 255, .85);
			margin-top: -350px;
			margin-bottom: -100px;
			margin-left: -20px;
		}

		.rank_caption {
			background-color: rgba(255, 255, 255, .85);
			width: 100%;
			font-family: 'Nunito', sans-serif;
			font-size: 15px;
			color: #505;
			margin: auto;
			margin-bottom: 20px;
			line-height: 1.5;
		}

		.select {
			display:flex;
			flex-direction: column;
			position:relative;
			width:175px;
			height:250px;
			overflow: auto;
			color: #fff;
			border-radius: 6px;
			font-family: 'Nunito', sans-serif;
		}

		.select:focus {
			outline: none;
		}

		.option {
			padding:0 30px 0 20px;
			min-height:40px;
			display:flex;
			align-items:center;
			background:#505;
			border-top:#222 solid 1px;
			position:absolute;
			top:0;
			width: 100%;
			pointer-events:none;
			order:2;
			z-index:1;
			transition:background .4s ease-in-out;
			box-sizing:border-box;
			overflow:hidden;
			white-space:nowrap;		
		}

		.option:hover {
			background:#747;
		}

		.select:focus .option {
			position:relative;
			pointer-events:all;
			}

		input {
			opacity:0;
			position:absolute;
			left:-99999px;
		}

		input:checked + label {
			order: 1;
			z-index:2;
			background:#636;
			border-top:none;
			position:relative;
		}

		input:checked + label:after {
			content:'';
			width: 0; 
			height: 0; 
			border-left: 5px solid transparent;
			border-right: 5px solid transparent;
			border-top: 5px solid white;
			position:absolute;
			right:10px;
			top:calc(50% - 2.5px);
			pointer-events:none;
			z-index:3;
		}

		input:checked + label:before {
			position:absolute;
			right:0;
			height: 40px;
			width: 40px;
			content: '';
			background:#636;
		}

		#word_spiral {
			height: 697px;
			max-height: 110vw;
			max-width: 100%;
			position: relative;
			overflow: hidden;
			display: inline-block;
			background-color: rgba(255, 255, 255, .85);
		}

		#post_spiral {
			position: relative;
		}

		.placeholder {
			visibility: hidden;
		}

		.mobile_spiral {
			visibility: visible;
			max-width: 100%;
			position: absolute;
			top: 0;
			left: 0;
		}

		.top_image {
			visibility: hidden;
		}

		.final_image {
			visibility: hidden;
		}

		.word_spiral_caption {
			width: 100%;
			padding-left: 35px;
			padding-right: 25px;
			font-family: 'Nunito', sans-serif;
			font-size: 15px;
			color: #505;
			margin: auto;
			padding-bottom: 20px;
			line-height: 1.5;
		}

		.word_chain_hover {
			width: 100%;
			padding-left: 35px;
			padding-right: 25px;
			font-family: 'Nunito', sans-serif;
			font-size: 15px;
			color: #505;
			margin: auto;
			padding-bottom: 20px;
			line-height: 1.5;
		}

		@media only screen and (min-width: 450px) {
			#rank_svg {
				margin-top: -325px;
				margin-bottom: -75px;
				margin-left: -25px;
			}
		}

		@media only screen and (min-width: 500px) {
			#rank_svg {
				margin-top: -300px;
				margin-bottom: -50px;
				margin-left: -30px;
			}
		}

		@media only screen and (min-width: 550px) {
			#rank_svg {
				margin-top: -300px;
				margin-bottom: -25px;
				margin-left: -35px;
			}
		}

		@media only screen and (min-width: 600px) {
			.title {
				font-size: 72px;
			}
			.intro__hed {
				font-size: 25px;
			}
			.prose1, .prose2, .prose3 {
				font-size: 17px;
			}
			.prose3_footnote {
				font-size: 15px;
				margin-top: -10px;
			}
			#word_chains {
				margin-top: -10px;
			}
			.wc_caption {
				width: 90%;
			}

			#rank_svg {
				max-width: 115%;
				margin-left: -60px;
				margin-top: -275px;
				margin-bottom: 10px;
			}
		}
		@media only screen and (min-width: 768px) {
			html {
				background-image: url('https://www.devangthakkar.com/design/assets/bg_blur.png');
				background-size: 600px 515px;
				background-repeat: repeat;
			}
			#main_div {
				position: absolute;
				left:50%;
				/*top:50%;*/
				width: 705px;
				margin-left: -350px;
				margin
				min-height: 1280px;
				max-width: 100%;
			}
			.title {
				font-size: 72px;
			}
			.intro__hed {
				font-size: 25px;
				padding-top: 0px;
				padding-bottom: 20px;
			}
			.name {
				padding-bottom: 30px;
			}

			#wc_svg {
				box-shadow: 10px -10px 30px 30px rgba(255, 255, 255,.85);
			}

			.prose1, .prose2, .prose3 {
				font-size: 17px;
				box-shadow: 10px -10px 30px 30px rgba(255, 255, 255,.85);
			}

			.prose3_footnote {
				font-size: 15px;
				margin-top: -10px;
				/*box-shadow: 10px -10px 30px 30px rgba(255, 255, 255,.85);*/
			}

			.wc_caption{
				margin-bottom: 30px;
				box-shadow: 10px -10px 30px 30px rgba(255, 255, 255,.85);
			}

			#rank_svg {
				box-shadow: 10px -10px 30px 30px rgba(255, 255, 255,.85);
			}

			.rank_caption {
				margin-bottom: 30px;
				box-shadow: 10px -10px 30px 30px rgba(255, 255, 255,.85);
			}

			#word_spiral {
				box-shadow: 10px -10px 30px 30px rgba(255, 255, 255,.85);
				width: 100%;
			}

			.placeholder {
				visibility: visible;
				max-width: 100%;
				position: absolute;
				top: 0;
				left: 0;
				box-shadow: 10px -10px 30px 30px rgba(255, 255, 255,.85);
			}

			.mobile_spiral {
				visibility: hidden;
			}

			.top_image {
				visibility: visible;
				max-width: 100%;
				position: absolute;
				top: 0;
				left: 0;
				visibility: visible;
				z-index: 999;
			}

			.final_image {
				background-color: rgba(255, 255, 255, .85);
				max-width: 100%;
				position: absolute;
				top: 0;
				left: 0;
				z-index: 100;
				box-shadow: 10px -10px 30px 30px rgba(255, 255, 255,.85);
			}

			.word_spiral_caption {
				background-color: rgba(255, 255, 255, .85);
			}

			.word_chain_hover {
				background-color: rgba(255, 255, 255, .85);
			}


		}
	</style>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src='https://www.googletagmanager.com/gtag/js?id=UA-113623366-2'></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-113623366-2');
	</script>


</head>

<body>
	<img src='https://www.devangthakkar.com/design/assets/bg_blur.png' id='preload_id' class='preload'/>
	<div id='main_div'>

		<section id='intro'>
			<p id='title' class='title'>Loss in<br/>Translation</p>
			<p id='intro__hed' class='intro__hed'>A study on the invertibility of translation between languages</p>

			<div style='text-align:center'><a id='name_link' href='https://www.devangthakkar.com'>Devang Thakkar</a></div>
			<p id='name' class='name'>26<sup>th</sup> July, 2018</p>

			<p class='prose1'>'Do you know Languages? What's the French for fiddle-de-dee?' questions the Red Queen, aiming to perplex Alice in Lewis Carroll’s Through the Looking Glass. “If you'll tell me what language "fiddle-de-dee" is, I'll tell you the French for it” replies Alice, continuing the nonsensical repartee that builds up a large fraction of the corpus. <br/><br/>

			A present-day adaptation of this highly underrated sequel would probably gloss over the aforementioned conversation since not knowing the language of the source text would no longer be an impediment for an Alice with a smartphone. The quality of machine translation has improved exponentially in the last few decades and now with the advent of neural machine translation, we have now reached closer to human translation than ever before. Despite these advances, there will always be certain limitations to machine translation, not due to the machine aspect of it rather due to the inherent limitations of the process of translation.<br/><br/>

			Languages do not always have a one-to-one correspondence, meaning that (i) not every word in a given language may have a befitting analog in every other language, and (ii) some words in a language may be translated into multiple equally appropriate words in other languages. I examine this correspondence by analysing the translations of the top 1000 nouns as enumerated in the Corpus of Contemporary American English. (More about the implementation and the limitations in the methodology section.) To understand better what I’m trying to put forth, check out the demonstration of imperfect circular translations below.<br/><br/></p>

			<p id='word_chain_counter_id' class='word_chain_counter'>0</p>
		</section>

		<div id='word_chains' text-align='center'>
			<svg id='wc_svg' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='625px' height='180px' align='center' viewBox='0 0 625 180' enable-background='new 0 0 625 180' xml:space='preserve'>

				<g id='lang' text-anchor='middle' font-size='16' font-weight='400' stroke='none' fill='#505' font-family="'Nunito', sans-serif">
					<text id='lang_text' display='block' transform='matrix(1 0 0 1 312 20)' style='bold'>Hindi (hi): stock</text>
				</g>

				<g id='legit_curve' stroke-width='2' stroke-dasharray='6' stroke='#505' fill='none'>
					<path id='c1' display='block' d='M129,97c0-24.45-19.82-44.28-44.28-44.28c-24.45,0-44.28,19.82-44.28,44.28'/>
					<path id='c2' display='block' d='M129,101c0,24.45,19.82,44.28,44.28,44.28c24.45,0,44.28-19.82,44.28-44.28'/>
					<path id='c3' display='block' d='M306.1,97c0-24.45-19.82-44.28-44.28-44.28c-24.45,0-44.28,19.82-44.28,44.28'/>
					<path id='c4' display='block' d='M306.1,101c0,24.45,19.82,44.28,44.28,44.28s44.28-19.82,44.28-44.28'/>
					<path id='c5' display='block' d='M483.2,97c0-24.45-19.82-44.28-44.28-44.28c-24.45,0-44.28,19.82-44.28,44.28'/>
					<path id='c6' display='block' d='M483.2,101c0,24.45,19.82,44.28,44.28,44.28c24.45,0,44.28-19.82,44.28-44.28'/>
				</g>

				<g id='final_curve' stroke-width='2' stroke-dasharray='6' stroke='#505' fill='none'>
					<path id='d1' display='none' d='M40.4,101c0,24.45,19.82,44.28,44.28,44.28c24.45,0,44.28-19.82,44.28-44.28'/>
					<path id='d2' display='none' d='M217.5,97c0-24.45-19.82-44.28-44.28-44.28c-24.45,0-44.28,19.82-44.28,44.28'/>
					<path id='d3' display='none' d='M217.5,101c0,24.45,19.82,44.28,44.28,44.28s44.28-19.82,44.28-44.28'/>
					<path id='d4' display='none' d='M394.6,97c0-24.45-19.82-44.28-44.28-44.28c-24.45,0-44.28,19.82-44.28,44.28'/>
					<path id='d5' display='none' d='M394.6,101c0,24.45,19.82,44.28,44.28,44.28c24.45,0,44.28-19.82,44.28-44.28'/>
					<path id='d6' display='block' d='M571.8,97c0-24.45-19.82-44.28-44.28-44.28c-24.45,0-44.28,19.82-44.28,44.28'/>
				</g>

				<g fill='#fff' stroke='none'>
					<rect width='5px' height='20px' x='37.9px' y='90px'></rect>
					<rect width='5px' height='20px' x='126.5px' y='90px'></rect>
					<rect width='5px' height='20px' x='215px' y='90px'></rect>
					<rect width='5px' height='20px' x='303.6px' y='90px'></rect>
					<rect width='5px' height='20px' x='392.1px' y='90px'></rect>
					<rect width='5px' height='20px' x='480.8px' y='90px'></rect>
					<rect width='5px' height='20px' x='569.3px' y='90px'></rect>
				</g>

				<g id='text' text-anchor='middle' font-size='15' font-weight='400' stroke='none' fill='#505' font-family="'Nunito', sans-serif">
					<text id='t1o' transform='matrix(1 0 0 1 40.4 105)'>stock</text>
					<text id='t1t' transform='matrix(1 0 0 1 129 105)'>भण्डार</text>
					<text id='t2o' transform='matrix(1 0 0 1 217.5 105)'>stores</text>
					<text id='t2t' transform='matrix(1 0 0 1 306.1 105)'>स्टोर</text>
					<text id='t3o' transform='matrix(1 0 0 1 394.6 105)'>store</text>
					<text id='t3t' transform='matrix(1 0 0 1 483.2 105)'>दुकान</text>
					<text id='t4o' transform='matrix(1 0 0 1 571.8 105)'>shop</text>
				</g>
			</svg>

			<div id='button_div' style='text-align:center;'>
				<button id='button_id' class='button' align='center'>New chain!</button>
			</div>

			<p class='wc_caption'>Figure 1. The chain follows the trajectory of a word as it is translated back and forth. The top arcs represent the translation from English to the other language, while the bottom arcs represent the translation back to English. The final word in the chain gets translated to a word that already exists in the chain.</p>
		</div>

		<section id='post_wc'>

			<p class='prose2'>One can see that the translation from English to another language and back to English leads a different word/phrase as compared to the original word. These chains may go on for multiple levels before a stationary translation is found (more about this later). The next step is to analyse the relation between the number of these imperfect circular translations and the characteristics of the language. Germanic languages seem to perform the best with the fewest number of imperfect circular translations whereas languages from the Niger-Congo family dominate the bottom. (In order to ensure that I was not cherry picking the set size, I computed the rankings for the top 500 and 1500 nouns as well. The individual standings of the languages shift slightly, but the overall trend of the families remains the same.)<br/><br/></p>
		</section>

		<div id='rank_plot' text-align='center'>
			<p id='rank_plot_counter_id' class='rank_plot_counter'>1</p>
			<div id='rank_dropdown' class='select' tabindex='1'>
				<input class='selectopt' name='test' type='radio' id='opt1' checked onclick='setHighlight(this);'>
				<label for='opt1' class='option'>Germanic</label>
				<input class='selectopt' name='test' type='radio' id='opt2' onclick='setHighlight(this);'>
				<label for='opt2' class='option'>Slavic</label>
				<input class='selectopt' name='test' type='radio' id='opt3' onclick='setHighlight(this);'>
				<label for='opt3' class='option'>Romance</label>
				<input class='selectopt' name='test' type='radio' id='opt4' onclick='setHighlight(this);'>
				<label for='opt4' class='option'>Austronesian</label>
				<input class='selectopt' name='test' type='radio' id='opt5' onclick='setHighlight(this);'>
				<label for='opt5' class='option'>Indic</label>
				<input class='selectopt' name='test' type='radio' id='opt6' onclick='setHighlight(this);'>
				<label for='opt6' class='option'>Niger-Congo</label>
				<input class='selectopt' name='test' type='radio' id='opt7' onclick='setHighlight(this);'>
				<label for='opt7' class='option'>Afroasiatic</label>
				<input class='selectopt' name='test' type='radio' id='opt8' onclick='setHighlight(this);'>
				<label for='opt8' class='option'>Turkic</label>
				<input class='selectopt' name='test' type='radio' id='opt9' onclick='setHighlight(this);'>
				<label for='opt9' class='option'>Iranian</label>
				<input class='selectopt' name='test' type='radio' id='opt10' onclick='setHighlight(this);'>
				<label for='opt10' class='option'>Sino-Tibetan</label>
				<input class='selectopt' name='test' type='radio' id='opt11' onclick='setHighlight(this);'>
				<label for='opt11' class='option'>Dravidian</label>
				<input class='selectopt' name='test' type='radio' id='opt12' onclick='setHighlight(this);'>
				<label for='opt12' class='option'>Uralic</label>
				<input class='selectopt' name='test' type='radio' id='opt13' onclick='setHighlight(this);'>
				<label for='opt13' class='option'>Celtic</label>
				<input class='selectopt' name='test' type='radio' id='opt14' onclick='setHighlight(this);'>
				<label for='opt14' class='option'>Krai-Dai</label>
				<input class='selectopt' name='test' type='radio' id='opt15' onclick='setHighlight(this);'>
				<label for='opt15' class='option'>Austroasiatic</label>
				<input class='selectopt' name='test' type='radio' id='opt16' onclick='setHighlight(this);'>
				<label for='opt16' class='option'>Baltic</label>
				<input class='selectopt' name='test' type='radio' id='opt17' onclick='setHighlight(this);'>
				<label for='opt17' class='option'>Albanian</label>
				<input class='selectopt' name='test' type='radio' id='opt18' onclick='setHighlight(this);'>
				<label for='opt18' class='option'>Armenian</label>
				<input class='selectopt' name='test' type='radio' id='opt19' onclick='setHighlight(this);'>
				<label for='opt19' class='option'>Basque</label>
				<input class='selectopt' name='test' type='radio' id='opt20' onclick='setHighlight(this);'>
				<label for='opt20' class='option'>Esperanto</label>
				<input class='selectopt' name='test' type='radio' id='opt21' onclick='setHighlight(this);'>
				<label for='opt21' class='option'>Hellenic</label>
				<input class='selectopt' name='test' type='radio' id='opt22' onclick='setHighlight(this);'>
				<label for='opt22' class='option'>Iberian</label>
				<input class='selectopt' name='test' type='radio' id='opt23' onclick='setHighlight(this);'>
				<label for='opt23' class='option'>Japonic</label>
				<input class='selectopt' name='test' type='radio' id='opt24' onclick='setHighlight(this);'>
				<label for='opt24' class='option'>Korean</label>
				<input class='selectopt' name='test' type='radio' id='opt25' onclick='setHighlight(this);'>
				<label for='opt25' class='option'>Mongolic</label>
			</div>

			<svg id='rank_svg' enable-background='new 0 0 955 450' version='1.1' viewBox='0 0 955 450' xml:space='preserve' align='center' xmlns='http://www.w3.org/2000/svg' x='0px' y='0px' width='955px' height='450px' xmlns:xlink='http://www.w3.org/1999/xlink'>
				<g id='super_rank' fill='none' stroke-width='7.5' stroke='#747'>
					<g id='lang1' stroke='#505'>
						<line y1='500' x1='85' x2='85' y2='413' t='Swedish:163'/>
						<line y1='500' x1='93' x2='93' y2='413' t='Norwegian:163'/>
						<line y1='500' x1='101' x2='101' y2='412' t='Yiddish:165'/>
						<line y1='500' x1='109' x2='109' y2='407' t='Dutch:174'/>
						<line y1='500' x1='133' x2='133' y2='403' t='Danish:182'/>
						<line y1='500' x1='141' x2='141' y2='402' t='Afrikaans:185'/>
						<line y1='500' x1='325' x2='325' y2='373' t='German:238'/>
						<line y1='500' x1='453' x2='453' y2='344' t='Icelandic:293'/>
						<line y1='500' x1='469' x2='469' y2='343' t='Frisian:294'/>
						<line y1='500' x1='517' x2='517' y2='333' t='Luxembourgish:313'/>
					</g>

					<g id='lang2' stroke='#747'>
						<line y1='500' x1='117' x2='117' y2='405' t='Polish:178'/>
						<line y1='500' x1='149' x2='149' y2='399' t='Macedonian:189'/>
						<line y1='500' x1='157' x2='157' y2='398' t='Bosnian:190'/>
						<line y1='500' x1='165' x2='165' y2='398' t='Czech:190'/>
						<line y1='500' x1='189' x2='189' y2='396' t='Bulgarian:195'/>
						<line y1='500' x1='197' x2='197' y2='395' t='Ukrainian:197'/>
						<line y1='500' x1='205' x2='205' y2='393' t='Croatian:201'/>
						<line y1='500' x1='309' x2='309' y2='375' t='Belarusian:234'/>
						<line y1='500' x1='317' x2='317' y2='374' t='Slovenian:237'/>
						<line y1='500' x1='437' x2='437' y2='347' t='Russian:287'/>
						<line y1='500' x1='525' x2='525' y2='333' t='Slovak:314'/>
						<line y1='500' x1='533' x2='533' y2='327' t='Serbian:324'/>
					</g>

					<g id='lang3' stroke='#747'>
						<line y1='500' x1='173' x2='173' y2='398' t='Galician:191'/>
						<line y1='500' x1='181' x2='181' y2='398' t='Italian:191'/>
						<line y1='500' x1='221' x2='221' y2='389' t='French:208'/>
						<line y1='500' x1='237' x2='237' y2='388' t='Spanish:210'/>
						<line y1='500' x1='269' x2='269' y2='381' t='Catalan:223'/>
						<line y1='500' x1='285' x2='285' y2='381' t='Portuguese:224'/>
						<line y1='500' x1='301' x2='301' y2='376' t='Romanian:233'/>
						<line y1='500' x1='477' x2='477' y2='339' t='Haitian Creole:301'/>
						<line y1='500' x1='565' x2='565' y2='320' t='Latin:338'/>
						<line y1='500' x1='597' x2='597' y2='312' t='Corsican:338'/>
					</g>

					<g id='lang4' stroke='#747'>
						<line y1='500' x1='229' x2='229' y2='389' t='Filipino:209'/>
						<line y1='500' x1='373' x2='373' y2='362' t='Indonesian:259'/>
						<line y1='500' x1='429' x2='429' y2='350' t='Malay:282'/>
						<line y1='500' x1='461' x2='461' y2='344' t='Sundanese:293'/>
						<line y1='500' x1='493' x2='493' y2='338' t='Javanese:304'/>
						<line y1='500' x1='589' x2='589' y2='315' t='Cebuano:347'/>
						<line y1='500' x1='789' x2='789' y2='234' t='Malagasy:500'/>
						<line y1='500' x1='861' x2='861' y2='200' t='Samoan:562'/>
						<line y1='500' x1='869' x2='869' y2='186' t='Maori:588'/>
						<line y1='500' x1='893' x2='893' y2='89' t='Hawaiian:771'/>
					</g>

					<g id='lang5' stroke='#747'>
						<line y1='500' x1='341' x2='341' y2='372' t='Gujarati:240'/>
						<line y1='500' x1='541' x2='541' y2='325' t='Punjabi:328'/>
						<line y1='500' x1='549' x2='549' y2='323' t='Marathi:331'/>
						<line y1='500' x1='605' x2='605' y2='309' t='Nepali:358'/>
						<line y1='500' x1='613' x2='613' y2='309' t='Urdu:358'/>
						<line y1='500' x1='621' x2='621' y2='306' t='Bengali:364'/>
						<line y1='500' x1='645' x2='645' y2='298' t='Hindi:380'/>
						<line y1='500' x1='693' x2='693' y2='284' t='Sinhala:405'/>
						<line y1='500' x1='845' x2='845' y2='205' t='Sindhi:553'/>
					</g>

					<g id='lang6' stroke='#747'>
						<line y1='500' x1='669' x2='669' y2='293' t='Swahili:389'/>
						<line y1='500' x1='765' x2='765' y2='258' t='Zulu:453'/>
						<line y1='500' x1='781' x2='781' y2='245' t='Yoruba:479'/>
						<line y1='500' x1='805' x2='805' y2='229' t='Xhosa:509'/>
						<line y1='500' x1='829' x2='829' y2='224' t='Shona:517'/>
						<line y1='500' x1='853' x2='853' y2='202' t='Igbo:560'/>
						<line y1='500' x1='877' x2='877' y2='156' t='Chichewa:645'/>
						<line y1='500' x1='885' x2='885' y2='152' t='Sesotho:653'/>
					</g>

					<g id='lang7' stroke='#747'>
						<line y1='500' x1='125' x2='125' y2='405' t='Maltese:179'/>
						<line y1='500' x1='501' x2='501' y2='336' t='Hebrew:308'/>
						<line y1='500' x1='701' x2='701' y2='284' t='Amharic:405'/>
						<line y1='500' x1='717' x2='717' y2='278' t='Arabic:417'/>
						<line y1='500' x1='725' x2='725' y2='276' t='Hausa:420'/>
						<line y1='500' x1='797' x2='797' y2='233' t='Somali:501'/>
					</g>

					<g id='lang8' stroke='#747'>
						<line y1='500' x1='333' x2='333' y2='373' t='Turkish:239'/>
						<line y1='500' x1='445' x2='445' y2='346' t='Azerbaijani:289'/>
						<line y1='500' x1='581' x2='581' y2='315' t='Kazakh:346'/>
						<line y1='500' x1='653' x2='653' y2='296' t='Uzbek:382'/>
						<line y1='500' x1='821' x2='821' y2='226' t='Kyrgyz:515'/>
					</g>

					<g id='lang9' stroke='#747'>
						<line y1='500' x1='629' x2='629' y2='306' t='Persian:364'/>
						<line y1='500' x1='757' x2='757' y2='264' t='Tajik:442'/>
						<line y1='500' x1='813' x2='813' y2='227' t='Pashto:511'/>
						<line y1='500' x1='901' x2='901' y2='42' t='Kurdish:822'/>
					</g>

					<g id='lang10' stroke='#747'>
						<line y1='500' x1='357' x2='357' y2='365' t='Myanmar (Burmese):254'/>
						<line y1='500' x1='389' x2='389' y2='357' t='Chinese:269'/>
						<line y1='500' x1='397' x2='397' y2='357' t='Chinese Traditional:269'/>
						<line y1='500' x1='837' x2='837' y2='224' t='Hmong:517'/>
					</g>

					<g id='lang11' stroke='#747'>
						<line y1='500' x1='413' x2='413' y2='350' t='Telugu:281'/>
						<line y1='500' x1='485' x2='485' y2='338' t='Kannada:303'/>
						<line y1='500' x1='557' x2='557' y2='322' t='Malayalam:333'/>
						<line y1='500' x1='709' x2='709' y2='283' t='Tamil:407'/>
					</g>

					<g id='lang12' stroke='#747'>
						<line y1='500' x1='245' x2='245' y2='386' t='Finnish:214'/>
						<line y1='500' x1='253' x2='253' y2='386' t='Hungarian:215'/>
						<line y1='500' x1='773' x2='773' y2='254' t='Estonian:460'/>
					</g>

					<g id='lang13' stroke='#747'>
						<line y1='500' x1='293' x2='293' y2='379' t='Irish:227'/>
						<line y1='500' x1='349' x2='349' y2='371' t='Welsh:242'/>
						<line y1='500' x1='685' x2='685' y2='286' t='Scots Gaelic:402'/>
					</g>

					<g id='lang14' stroke='#747'>
						<line y1='500' x1='421' x2='421' y2='350' t='Thai:281'/>
						<line y1='500' x1='637' x2='637' y2='298' t='Lao:378'/>
					</g>

					<g id='lang15' stroke='#747'>
						<line y1='500' x1='509' x2='509' y2='334' t='Vietnamese:311'/>
						<line y1='500' x1='741' x2='741' y2='272' t='Khmer:427'/>
					</g>

					<g id='lang16' stroke='#747'>
						<line y1='500' x1='733' x2='733' y2='273' t='Lithuanian:426'/>
						<line y1='500' x1='749' x2='749' y2='270' t='Latvian:432'/>
					</g>

					<line y1='500' x1='261' x2='261' y2='383' t='Albanian:219' id='lang17'/>
					<line y1='500' x1='677' x2='677' y2='286' t='Armenian:401' id='lang18'/>
					<line y1='500' x1='405' x2='405' y2='355' t='Basque:272' id='lang19'/>
					<line y1='500' x1='277' x2='277' y2='381' t='Esperanto:223' id='lang20'/>
					<line y1='500' x1='365' x2='365' y2='365' t='Greek:254' id='lang21'/>
					<line y1='500' x1='573' x2='573' y2='318' t='Georgian:341' id='lang22'/>
					<line y1='500' x1='213' x2='213' y2='390' t='Japanese:206' id='lang23'/>
					<line y1='500' x1='381' x2='381' y2='362' t='Korean:260' id='lang24'/>
					<line y1='500' x1='661' x2='661' y2='296' t='Mongolian:383' id='lang25'/>

				</g>

				<g id='rank_tooltip' visibility='hidden'>
					<rect width='40' height='24' fill='#eae' rx='4' ry='4' id='tooltip-box'/>
					<text x='5' y='18' id='tooltip-text' font-family="'Nunito', sans-serif" font-size='20px' fill='#fff'>Tooltip</text>
				</g>
			</svg>

			<p id='rank_caption_id' class='rank_caption'>Figure 2. Each of the 103 bars represents a language examined in our study. These are all the languages currently available on Google Translate (besides English). The height of each bar denotes the number of imperfect circular translations for the top 1000 nouns for that language. Choose a family from the dropdown to see where its members stand in this ranking.</p>
		</div>

		<section id='post_rank'>
			<p class='prose3'>As can be observed from the plot above, some families are seen to be more dominant in the high scoring regions - 22 of the top 30 languages belong to one of Germanic, Slavic, and Romance families. On the other hand, certain families tend to populate the low scoring regions - 14 of the bottom 20 languages belong to one of Niger-Congo, Austronesian, and Iranian families. English is primarily a Germanic language according to most sources, but the merger of Norman French with Old English introduced a good deal of Latin vocabulary to what became Middle English. As a consequence, languages from Germanic, Romance, and Slavic - the three major families of the European branch of the global language tree have a good number of perfect circular translations. Another result worth noting from this plot is how languages from the same family tend to cluster together. Even besides the families at the two extremities, there are multiple families (viz. Indic, Afroasiatic, et cetera) that have some of their languages positioned contiguous to each other.<br/><br/>

			An interesting feature of imperfect circular translations is that they themselves often go on to have further imperfect translations. These word chains go on for multiple levels before reaching a stationary translation (well, most do<sup>[1]</sup>). Most word chains end after one or two levels but chains of up to 8 levels have been identified as well<sup>[2]</sup>. We plot the chain lengths of the 1000 nouns in 103 languages to obtain a bird’s eye view of these chains. The dots on the spiral below represent the top 1000 nouns along the path, moving outwards from the centre. The presence of a dot at a particular position implies an imperfect circular translation, while its absence implies a perfect circular translation. The colors of the individual dots add another dimension to the plot by denoting the length of the chain for the particular noun in that language.<br/><br/></p>
		</section>

		<div id='word_spiral' text-align='center'>
			<p id='word_spiral_counter_id' class='word_spiral_counter'>1</p>
			<img class='placeholder' id='placeholder_id' src='https://www.devangthakkar.com/design/assets/chain_temp.svg'/>
			<img class='mobile_spiral' id='mobile_spiral_id' src='https://www.devangthakkar.com/design/assets/mobile_spiral.png'/>
			<embed src='https://www.devangthakkar.com/design/assets/chain_invis.svg' class='top_image' id='top_img' type='image/svg+xml'/>
			<embed src='' class='final_image' id='final_img' type='image/svg+xml' lsrc='https://www.devangthakkar.com/design/assets/chain_blend_final.svg'/>
		</div>

		<div id='post_spiral' text-align='center'>
			<p id='word_chain_hover_id' class='word_chain_hover'></p>
			<p id='word_spiral_caption_id' class='word_spiral_caption'>Figure 3. The plot shows the top 1000 nouns arranged in order starting from the centre of the spiral. The colour of the dot represents the length of the chain for the word in the mentioned language - Hawaiian in this case. View an interactive version of the plot by visiting the website from a device with a screen wider than 768px.</p>
			<section id='footnotes'>
				<p class='prose3_footnote'>[1] Sometimes, Google Translate happens to go bonkers and decides to send the user on an infinite translation trip. Consider what happens when you attempt to build the chain for the word <i>baseball</i> in Armenian. <br/><br/>

				baseball -> Baseball: Baseball -> Baseball. Baseball: Baseball -> ... ad infinitum <br/><br/>

				It gets weirder if you try to build the chain for the word <i>contact</i> in Armenian. <br/><br/>

				contact -> Contacts -> Contacts: -> Contact: Douglas Doug -> Contact: Douglas Doug Douglas Doug -> ... ad infinitum <br/><br/>

				This anomaly is not limited to Armenian - try building chains for <a href="https://translate.google.co.in/#en/hr/master" style='text-decoration:none;'>master</a> in Croatian or <a href="https://translate.google.co.in/#en/bn/forest" style='text-decoration:none;'>forest</a> in Bengali. <br/><br/>

				[2] One of the longest sensical chains in this study was built by translating the word <a href="https://translate.google.co.in/#en/bn/tax" style='text-decoration:none;'>tax</a> in Bengali. <br/><br/>

				-> tax - do - be done - will do - will - will power - will have power - have the power <br/></p>
			</section>
		</div>
	</div>

	<script src='https://www.devangthakkar.com/design/assets/js/jquery-3.3.1.min.js'>
	</script>

	<script desc='media queries and load background'>

		// remove br if screen width > 600
		var jmediaquery1 = window.matchMedia('(min-width: 600px)');
		if (jmediaquery1.matches) {
			document.getElementById('title').innerHTML = 'Loss in Translation';
			var img = new Image();
			img.onload = function() {
				document.getElementsByTagName('html')[0].style.backgroundImage='url("https://www.devangthakkar.com/design/assets/bg.png")';
				document.getElementById('main_div').style.backgroundColor='rgba(255, 255, 255, .85)';
				document.getElementById('word_chains').style.backgroundColor='rgba(255, 255, 255, .85)';
			};
			img.src = 'https://www.devangthakkar.com/design/assets/bg.png';
		}

		// async load bg if screen width > 992
		var jmediaquery2 = window.matchMedia('(min-width: 768px)');
		if (jmediaquery2.matches) {
			var img = new Image();
			img.onload = function() {
				document.getElementsByTagName('html')[0].style.backgroundImage='url("https://www.devangthakkar.com/design/assets/bg.png")';
				document.getElementById('main_div').style.boxShadow='10px -10px 30px 30px rgba(255, 255, 255, .85)';
				document.getElementById('main_div').style.backgroundColor='rgba(255, 255, 255, .85)';
				document.getElementById('word_chains').style.boxShadow='10px -10px 30px 30px rgba(255, 255, 255, .85)';
				document.getElementById('word_chains').style.backgroundColor='rgba(255, 255, 255, .85)';
				document.getElementById('post_spiral').style.boxShadow='10px -10px 30px 30px rgba(255, 255, 255, .85)';
				document.getElementById('post_spiral').style.backgroundColor='rgba(255, 255, 255, .85)';
			};
			img.src = 'https://www.devangthakkar.com/design/assets/bg.png';
		}
	</script>

	<script desc='change rank plot based on dropdown'>

		// change highlight on rank plot based on dropdown
		function setHighlight(select) {
			var selected=select.id;
			console.log(selected);

			var previous_rank=document.getElementById('rank_plot_counter_id').innerHTML;
			console.log(previous_rank);

			var sel_num=selected.replace('opt', '');
			console.log(sel_num);
			document.getElementById('rank_plot_counter_id').innerHTML=sel_num;
			
			document.getElementById('lang'.concat(previous_rank)).style.stroke='#747';
			console.log('lang'.concat(sel_num.toString()))
			
			document.getElementById('lang'.concat(sel_num.toString())).style.stroke='#505';
		};
	</script>

	<script desc='change word chain on button'>

		// change image on button press
		const translations = [
			{lang:'French', lang_code:'fr', chain:['matter', 'matière', 'material', 'matériel', 'equipment', 'équipement']},
			{lang:'Persian', lang_code:'fa', chain:['trouble', 'مشکل', 'problem', 'مسئله', 'question', 'سوال']},
			{lang:'German', lang_code:'de', chain:['lack', 'mangel', 'defect', 'defekt', 'malfunction', 'fehlfunktion']},
			{lang:'Chinese', lang_code:'zh-CN', chain:['place', '地点', 'location', '位置', 'position']},
			{lang:'Malayalam', lang_code:'ml', chain:['sector', 'മേഖല', 'region', 'പ്രദേശം', 'the area']},
			{lang:'Italian', lang_code:'it', chain:['question', 'domanda', 'demand', 'richiesta', 'request']},
			{lang:'Marathi', lang_code:'mr', chain:['dish', 'ताटली', 'talley', 'ताली', 'clap', 'फडफड', 'flap']},
			{lang:'Swedish', lang_code:'sv', chain:['number', 'siffra', 'figure', 'figur']},
			{lang:'Bengali', lang_code:'bn', chain:['drug', 'ড্রাগ', 'drugs', 'ওষুধের', 'medicines', 'ওষুধ']},
			{lang:'Latin', lang_code:'la', chain:['method', 'modum', 'limit', 'terminus', 'the border']},
			{lang:'Croatian', lang_code:'hr', chain:['country', 'zemlja', 'earth']},
			{lang:'Czech', lang_code:'cs', chain:['matter', 'hmota', 'mass', 'hmotnost', 'weight']},
			{lang:'Danish', lang_code:'da', chain:['firm', 'firma', 'business', 'forretning']},
			{lang:'Norwegian', lang_code:'no', chain:['show', 'forestilling', 'performance', 'opptreden']},
			{lang:'Arabic', lang_code:'ar', chain:['group', 'مجموعة', 'collection']},
			{lang:'Dutch', lang_code:'nl', chain:['problem', 'probleem', 'issue', 'kwestie', 'matter', 'er toe doen']},
			{lang:'Esperanto', lang_code:'eo', chain:['money', 'mono', 'monkey', 'simio']},
			{lang:'Finnish', lang_code:'fi', chain:['bill', 'laskuttaa', 'charge', 'veloittaa']},
			{lang:'Greek', lang_code:'el', chain:['hour', 'ώρα', 'time', 'χρόνος', 'year', 'έτος']},
			{lang:'Afrikaans', lang_code:'af', chain:['question', 'vraag', 'demand']},
			{lang:'French', lang_code:'fr', chain:['hall', 'salle', 'room', 'chambre', 'bedroom']},
			{lang:'Hebrew', lang_code:'iw', chain:['reason', 'סיבה', 'cause', 'גורם', 'factor']},
			{lang:'Portuguese', lang_code:'pt', chain:['lead', 'conduzir', 'drive', 'dirigir', 'to drive']},
			{lang:'Japanese', lang_code:'ja', chain:['setting', '設定', 'configuration', '構成', 'constitution', '憲法']},
			{lang:'Russian', lang_code:'ru', chain:['works', 'работает', 'working', 'за работой', 'at work', 'на работе']},
			{lang:'Spanish', lang_code:'es', chain:['approach', 'enfoque', 'focus', 'atención', 'attention']},
			{lang:'Turkish', lang_code:'tr', chain:['incident', 'olay', 'event', 'etkinlik', 'activity', 'aktivite']},
			{lang:'Hindi', lang_code:'hi', chain:['soul', 'अन्त: मन', 'inner heart', 'आंतरिक दिल', 'internal heart']},
			{lang:'Urdu', lang_code:'ur', chain:['proposal', 'تجویز', 'suggestion', 'مشورہ', 'advice']},
			];

		document.getElementById('button_id').onclick = function(){
			var counter = document.getElementById('word_chain_counter_id').innerHTML;

			if (counter == 28 || counter == '28') {
				document.getElementById('word_chain_counter_id').innerHTML = 0;
			}
			else {
				document.getElementById('word_chain_counter_id').innerHTML = (parseInt(counter)+1);
			}

			var selected = translations[counter];
			var chain = selected['chain'];
			console.log(chain);
			var chain_length = chain.length;

			document.getElementById('c1').style.display = 'block';
			document.getElementById('c2').style.display = 'block';
			document.getElementById('c3').style.display = 'none';
			document.getElementById('c4').style.display = 'none';
			document.getElementById('c5').style.display = 'none';
			document.getElementById('c6').style.display = 'none';

			document.getElementById('d1').style.display = 'none';
			document.getElementById('d2').style.display = 'none';
			document.getElementById('d3').style.display = 'none';
			document.getElementById('d4').style.display = 'none';
			document.getElementById('d5').style.display = 'none';
			document.getElementById('d6').style.display = 'none';			

			document.getElementById('t1o').textContent = '';
			document.getElementById('t1t').textContent = '';
			document.getElementById('t2o').textContent = '';
			document.getElementById('t2t').textContent = '';
			document.getElementById('t3o').textContent = '';
			document.getElementById('t3t').textContent = '';
			document.getElementById('t4o').textContent = '';

			var combo = selected['lang'].concat('('.concat(selected['lang_code'].concat(')')))
			combo = combo.concat(': '.concat(selected['chain'][0]));
			console.log(combo);

			document.getElementById('lang_text').textContent = combo;

			// draw actual curves
			if (chain_length > 3) {
				document.getElementById('c3').style.display = 'block';
			}

			if (chain_length > 4) {
				document.getElementById('c4').style.display = 'block';
			}

			if (chain_length > 5) {
				document.getElementById('c5').style.display = 'block';
			}

			if (chain_length > 6) {
				document.getElementById('c6').style.display = 'block';
			}
			
			// draw closing curve and add text
			if (chain_length == 3) {
				document.getElementById('d2').style.display = 'block';
				document.getElementById('t1o').textContent = chain[0];
				document.getElementById('t1t').textContent = chain[1];
				document.getElementById('t2o').textContent = chain[2];
			}

			if (chain_length == 4) {
				document.getElementById('d3').style.display = 'block';
				document.getElementById('t1o').textContent = chain[0];
				document.getElementById('t1t').textContent = chain[1];
				document.getElementById('t2o').textContent = chain[2];
				document.getElementById('t2t').textContent = chain[3];
			}

			if (chain_length == 5) {
				document.getElementById('d4').style.display = 'block';
				document.getElementById('t1o').textContent = chain[0];
				document.getElementById('t1t').textContent = chain[1];
				document.getElementById('t2o').textContent = chain[2];
				document.getElementById('t2t').textContent = chain[3];
				document.getElementById('t3o').textContent = chain[4];
			}

			if (chain_length == 6) {
				document.getElementById('d5').style.display = 'block';
				document.getElementById('t1o').textContent = chain[0];
				document.getElementById('t1t').textContent = chain[1];
				document.getElementById('t2o').textContent = chain[2];
				document.getElementById('t2t').textContent = chain[3];
				document.getElementById('t3o').textContent = chain[4];
				document.getElementById('t3t').textContent = chain[5];
			}

			if (chain_length == 7) {
				document.getElementById('d6').style.display = 'block';
				document.getElementById('t1o').textContent = chain[0];
				document.getElementById('t1t').textContent = chain[1];
				document.getElementById('t2o').textContent = chain[2];
				document.getElementById('t2t').textContent = chain[3];
				document.getElementById('t3o').textContent = chain[4];
				document.getElementById('t3t').textContent = chain[5];
				document.getElementById('t4o').textContent = chain[6];
			}
		};
	</script>

	<script desc='load only on desktop and hover over rank plot'>

		// add hovering capabilities to rank plot if width > 600
		var jmediaquery3 = window.matchMedia('(min-width: 768px)');
		if (jmediaquery3.matches) {

			document.getElementById('rank_caption_id').innerHTML = 'Figure 2. Each of the 103 bars represents a language examined in our study. These are all the languages currently available on Google Translate (besides English). The height of each bar denotes the number of imperfect circular translations for that language for the top 1000 English nouns. Choose a family from the dropdown to see where its members stand in this ranking. Hover over the plot to see the language represented by each bar and the corresponding count.';

			document.getElementById('word_spiral_caption_id').innerHTML = 'Figure 3. The plot brings together the top 1000 English nouns arranged in order, starting from the centre of the spiral. The colour of the dot represents the length of the chain for the word in the mentioned language. Hover over the dots on the spiral to see the chain for that word. Use the navigation dots to change languages.';

			var svg_rank = document.getElementById('rank_svg');
			var rank_tooltip = svg_rank.getElementById('rank_tooltip');
			var active_lang_id = 'lang'.concat(document.getElementById('rank_plot_counter_id'));
			var rank_tooltipText = rank_tooltip.getElementsByTagName('text')[0];
			var triggers_rank = svg_rank.getElementsByTagName('line');

			for (var i = 0; i < triggers_rank.length; i++) {
				triggers_rank[i].addEventListener('mousemove', showTooltip_rank);
				triggers_rank[i].addEventListener('mouseout', hideTooltip_rank);
			}

			function showTooltip_rank(evt) {
				var CTM_rank = svg_rank.getScreenCTM();
				var length_rank = rank_tooltipText.getComputedTextLength();
				var x_rank = (evt.clientX - CTM_rank.e - length_rank/2) / CTM_rank.a;
				var y_rank = (evt.clientY - CTM_rank.f - 50) / CTM_rank.d;
				rank_tooltip.setAttributeNS(null, 'transform', 'translate(' + x_rank + ' ' + y_rank + ')');
				rank_tooltip.setAttributeNS(null, 'visibility', 'visible');
				rank_tooltipText.firstChild.data = evt.target.getAttributeNS(null, 't');

				var tooltipRects_rank = rank_tooltip.getElementsByTagName('rect');
				for (var i = 0; i < tooltipRects_rank.length; i++) {
					tooltipRects_rank[i].setAttributeNS(null, 'width', length_rank+10);
				}
			}

			function hideTooltip_rank(evt) {
				rank_tooltip.setAttributeNS(null, 'visibility', 'hidden');
			}

		}
	</script>

	<script desc='async load blend svg'>

		// async loading
		var jmediaquery4 = window.matchMedia('(min-width: 768px)');
		if (jmediaquery4.matches) {
			$(window).on('load', function(){
				$('#final_img').each(function(){
					console.log("Window loaded; now loading img")
					var this_image = this;
					var src = $(this_image).attr('src') || '' ;
					if(!src.length > 0){
						var lsrc = $(this_image).attr('lsrc') || '' ;
						if(lsrc.length > 0){
							var img = new Image();
							img.src = lsrc;
							$(img).on('load', function() {
								this_image.src = this.src;
								console.log('All loaded');
								$('#final_img').css('visibility', 'visible');
								$('#placeholder_id').css('visibility', 'hidden');
							});
						}
					}
				});
			});
		}
	</script>

	<script desc='left right for word spiral svg'>
	
		// adding left right functionality
		function changeImage(dir) {

			var current_image_num = document.getElementById('word_spiral_counter_id').innerHTML;
			var current_image = 'Layer_'.concat(current_image_num);
			console.log(current_image);
			console.log(document.getElementById('final_img').getSVGDocument().childNodes[1]);
			var svg_doc = document.getElementById('final_img').getSVGDocument().childNodes[1];
			console.log(svg_doc.getElementById(current_image));
			svg_doc.getElementById(current_image).style.opacity = '0.0';
			var new_image_num = 1;
			if (current_image == 'Layer_1' && dir == '-1') {
				new_image_num = '103';
			}
			else if (current_image == 'Layer_103' && dir == '1') {
				new_image_num = '1';
			}
			else {
				new_image_num = parseInt(current_image_num, 10)+parseInt(dir, 10);
			}

			document.getElementById('word_spiral_counter_id').innerHTML = new_image_num;
			var new_image = 'Layer_'.concat(new_image_num);
			console.log(new_image);
			svg_doc.getElementById(new_image).style.opacity = '1.0';
		}

		$(document).on('keyup', function(e) {
			e = e || window.event;
			if (e.keyCode == '37') {
				console.log('left');
				changeImage('-1') //left <- show Prev image
			} else if (e.keyCode == '39') {
				// right -> show next image
				console.log('right');
				changeImage('1')
			}
		});
	</script>

	<script desc='hover over nav dot'>

		// add hovering capabilities to nav dots using opacity 0 of img0
		document.getElementById('final_img').addEventListener('load', function() {

			var svg = document.getElementById('top_img').getSVGDocument().childNodes[1];

			var tooltip = svg.getElementById('tooltip');
			console.log(svg);
			console.log(tooltip);
			var tooltipText = tooltip.getElementsByTagName('text')[0];

			var triggers_rect = svg.getElementsByClassName('r');
			var triggers_dots = svg.getElementsByClassName('n');

			for (var i = 0; i < triggers_rect.length; i++) {
				triggers_rect[i].addEventListener('mousemove', showTooltip_word);
				triggers_rect[i].addEventListener('mouseout', hideTooltip_word);
			}

			for (var i = 0; i < triggers_dots.length; i++) {
				triggers_dots[i].addEventListener('mousemove', showTooltip_word);
				triggers_dots[i].addEventListener('mouseout', hideTooltip_word);
			}

			function showTooltip_word(evt) {
				var CTM = svg.getScreenCTM();
				var length = tooltipText.getComputedTextLength();
				var x = (evt.clientX - CTM.e - length/2) / CTM.a;
				var y = (evt.clientY - CTM.f - 35) / CTM.d;
				tooltip.setAttributeNS(null, 'transform', 'translate(' + x + ' ' + y + ')');
				tooltip.setAttributeNS(null, 'visibility', 'visible');
				tooltipText.firstChild.data = evt.target.getAttributeNS(null, 't');

				var tooltipRects = tooltip.getElementsByTagName('rect');
				for (var i = 0; i < tooltipRects.length; i++) {
					tooltipRects[i].setAttributeNS(null, 'width', length+10);
				}
			}

			function hideTooltip_word(evt) {
				tooltip.setAttributeNS(null, 'visibility', 'hidden');
			}

			// load minimal chain only if non mobile
			var chain_data = [];
			var jmediaquery5 = window.matchMedia('(min-width: 768px)');
			if (jmediaquery5.matches) {
				$(document).ready(function() {
					$.ajax({
						type: 'GET',
						url: 'https://www.devangthakkar.com/design/assets/minimal_chain.csv',
						dataType: 'text',
						success: function(data) {processData(data);}
					 });
				});

				function processData(allText) {

					var allTextLines = allText.split(/\r\n|\n/);
					var lines_arr = [];

					for (var i=0; i<allTextLines.length; i++) {
						var lines = new Object();
						var data = allTextLines[i].split(';');
						
						for (var k=0; k<data.length; k++){
							var line = data[k].split(',');
							var tarr = [];
						
							for (var j=0; j<line.length; j++) {
								tarr.push(line[j]);
							}
							
							num = 'w'.concat(line[1]);
							lines['w'.concat(line[1])] = tarr;
							lines.lang_code = line[0];
						}

						lines_arr.push(lines);
					}
					console.log(lines_arr);
					chain_data = lines_arr;
				}
			}

			//word hover
			var counter = document.getElementById('word_spiral_counter_id').innerHTML;
			// console.log(document.getElementById('final_img').getSVGDocument().childNodes[1].childNodes);
			// console.log(document.getElementById('final_img').getSVGDocument().childNodes[1].childNodes[3]);
			var layer = document.getElementById('top_img').getSVGDocument().childNodes[1].childNodes[3];

			console.log(layer);
			var triggers_word = layer.getElementsByTagName('circle');
			console.log(triggers_word);

			for (var i = 0; i < triggers_word.length; i++) {
				$(document).on('mouseover', triggers_word[i], showWordChain);
				$(document).on('mouseout', triggers_word[i], hideWordChain);
				// triggers_word[i].addEventListener('mouseover', showWordChain);
				// triggers_word[i].addEventListener('mouseout', hideWordChain);
			}

			function showWordChain(evt) {
				console.log('trigger');
				console.log(evt.target.id);
				hideWordChain();
				if (chain_data[counter-1].hasOwnProperty(evt.target.id)) {
					console.log('trigger inside');
					console.log(evt.target.id);
					var chain_arr = chain_data[counter-1][evt.target.id];
					var chain_str = '';
					for (var l=0;l<chain_arr.length;l++) {
						if (l==2) {
							chain_str = chain_str + chain_arr[l];
						}
						if (l>2) {
							chain_str = chain_str + ' -> ' + chain_arr[l];
						}
					}
					document.getElementById('word_chain_hover_id').innerHTML = 'Chain: ' + chain_str;
				}
			}	
			
			function hideWordChain(evt) {
				document.getElementById('word_chain_hover_id').innerHTML = 'Chain: ';
			}		
		});
	</script>

	<script desc='jump to nav dot'>

		// jump to nav dot

		document.getElementById('final_img').addEventListener('load', function() {
			var svg = document.getElementById('final_img').getSVGDocument().childNodes[1];
			var svg_invis = document.getElementById('top_img').getSVGDocument().childNodes[1];
			var clickable_rect = svg_invis.getElementsByClassName('r');
			var clickable_dots = svg_invis.getElementsByClassName('n');

			for(var i=0;i<clickable_rect.length;i++) {
				clickable_rect[i].addEventListener('click', function() {console.log('rect');console.log(this.id);jump(this.id);});
			}

			for(var i=0;i<clickable_dots.length;i++) {
				clickable_dots[i].addEventListener('click', function() {console.log('dots');console.log(this.id);jump(this.id);});
			}

			function jump(id) {

				var current_image_num = document.getElementById('word_spiral_counter_id').innerHTML;
				var current_image = 'Layer_'.concat(current_image_num);
				svg.getElementById(current_image).style.opacity = '0.0';
				var new_image_num = id.replace('n', '').replace('r', '');

				document.getElementById('word_spiral_counter_id').innerHTML = new_image_num;
				var new_image = 'Layer_'.concat(new_image_num);
				svg.getElementById(new_image).style.opacity = '1.0';
			}
		});
	</script>
</body>