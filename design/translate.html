<!DOCTYPE html>
<html xlmns='https://www.w3.org/1999/xhtml' xlmns:fb='https://ogp.me/ns/fb#'>

<head>
	<title>Loss in Translation</title>

	<meta charset='utf-8'/>
	<meta http-equiv='X-UA-Compatible' content='IE=edge'/>
	<meta name='description' content='A study on the invertibility of translation between languages'/>
	<meta name='viewport' content='width=device-width, initial-scale=1'/>
	<meta name='news_keywords' content='translation, language, Google Translate, data visualization'/>

	<link rel='icon' type='image/png' href='favicons/favicon.png'>
	<link rel='apple-touch-icon' sizes='57x57' href='favicons/apple-icon-57x57.png'>
	<link rel='apple-touch-icon' sizes='60x60' href='favicons/apple-icon-60x60.png'>
	<link rel='apple-touch-icon' sizes='72x72' href='favicons/apple-icon-72x72.png'>
	<link rel='apple-touch-icon' sizes='76x76' href='favicons/apple-icon-76x76.png'>
	<link rel='apple-touch-icon' sizes='114x114' href='favicons/apple-icon-114x114.png'>
	<link rel='apple-touch-icon' sizes='120x120' href='favicons/apple-icon-120x120.png'>
	<link rel='apple-touch-icon' sizes='144x144' href='favicons/apple-icon-144x144.png'>
	<link rel='apple-touch-icon' sizes='152x152' href='favicons/apple-icon-152x152.png'>
	<link rel='apple-touch-icon' sizes='180x180' href='favicons/apple-icon-180x180.png'>

	<link rel='icon' type='image/png' sizes='192x192'  href='favicons/android-icon-192x192.png'>
	<link rel='icon' type='image/png' sizes='32x32' href='favicons/favicon-32x32.png'>
	<link rel='icon' type='image/png' sizes='96x96' href='favicons/favicon-96x96.png'>
	<link rel='icon' type='image/png' sizes='16x16' href='favicons/favicon-16x16.png'>
	<link rel='manifest' href='https://www.devangthakkar.com/design/assets/favicons/manifest.json'>

	<meta name='msapplication-TileColor' content='#303'>
	<meta name='msapplication-TileImage' content='favicons/ms-icon-144x144.png'>
	<meta name='theme-color' content='#303'>
	<meta name='msapplication-navbutton-color' content='#303'>

	<meta property='og:title' content='Loss in Translation'/>
	<meta property='og:site_name' content='Devang Thakkar'/>
	<meta property='og:url' content='https://www.devangthakkar.com/design/translate'/>
	<meta property='og:description' content='What 1000 words in 103 languages reveal about translation invertibility'/>
	<meta property='og:type' content='article'/>
	<meta property='og:locale' content='en_US'/>
	<meta property='og:image' content='https://www.devangthakkar.com/design/assets/social/social-facebook.jpg'/>
	<meta property='og:image:width' content='1200'/>
	<meta property='og:image:height' content='630'/>

	<meta name='twitter:card' content='summary_large_image'/>
	<meta name='twitter:site' content='https://www.devangthakkar.com/design/translate'/>
	<meta name='twitter:creator' content='@devangvang'/>
	<meta name='twitter:title' content='Loss in Translation'/>
	<meta name='twitter:description' content='What 1000 words in 103 languages reveal about invertibility of translation'/>
	<meta name='twitter:image:src' content='https://www.devangthakkar.com/design/assets/social/social-twitter.jpg'/>

	<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Nunito|Libre+Baskerville|Alegreya'>
	<link rel='shortcut icon' href='https://www.devangthakkar.com/design/assets/favicons/favicon.png?v=6'>

	<style type='text/css'>
		* {
			box-sizing: border-box;
		}

		html {
			/*padding: 10px;*/
			margin: 0px;
			width: 100%;
			height: 100%;
			min-height: 1800px;
			/*background-image: url('https://www.devangthakkar.com/design/assets/bg.png');*/
			background-origin: border-box;
		}

		body {
			width: 100%;
			height: 100%;
			min-height: 1800px;
			margin: auto;
		}

		/* custom scrollbar */
		/* width */
		::-webkit-scrollbar {
			width: 10px;
		}

		/* Track */
		::-webkit-scrollbar-track {
			background: #dcd;
		}
		 
		/* Handle */
		::-webkit-scrollbar-thumb {
			background: #404;
		}

		/* Handle on hover */
		::-webkit-scrollbar-thumb:hover {
			background: #535;
		}


		#main_div {
			width: 100%;
		}

		.intro {
			padding: 16px;
			padding-bottom: 24px;
		}

		.title {
			font-family: 'Libre Baskerville', 'Palatino Linotype', 'Georgia', serif;
			font-size: 10vw;
			color: #505;
			text-align: center;
			margin-bottom: 0px;
		}

		.intro__hed {
			padding: 10px;
			font-family: 'Alegreya', serif;
			font-size: 6vw;
			color: #505;
			text-align: center;
		}

		.name {
			font-family: 'Nunito', sans-serif;
			font-size: 15px;
			margin-top: 5px;
			color: #505;
			text-align: center;
		}

		a:link {
			text-decoration: none;
			font-family: 'Nunito', sans-serif;
			font-size: 15px;
			color: #505;
			-webkit-transition:.3s;
			-o-transition:.3s;
			transition:.3s;
		}

		a:hover {
			text-decoration: none;
			font-family: 'Nunito', sans-serif;
			font-size: 15px;
			color: #808;
			-webkit-transition:.3s;
			-o-transition:.3s;
			transition:.3s;
		}

		.prose1, .prose2 {
			display: inline-block;
			color: #505;
			background-color: rgba(255, 255, 255, .85);
			margin-top: 20px;
			padding-top: 10px;
			padding-left: 35px;
			padding-right: 25px;
			font-family: 'Nunito', sans-serif;
			font-size: 15px;
			line-height:1.7;
			word-spacing: 0.2em;
			white-space: normal;
			word-wrap: break-word;
		}

		.word_chain_counter {
			display: none;
		}

		.rank_plot_counter {
			display: none;
		}

		#word_chains {
			max-width: 100%;
			margin-top: -20px;
		}

		#wc_svg {
			max-width: 100%;
			display: block;
			margin: auto;
			background-color: rgba(255, 255, 255, .85);
		}

		#button_div {
			margin-bottom: 20px;
		}

		.button {
			background-color: #505;
			border: none;
			border-radius: 4px;
			color: white;
			padding: 15px 32px;
			text-align: center;
			text-decoration: none;
			display: inline-block;
			font-size: 16px;
			margin: 4px 2px;
			cursor: pointer;
		}

		.button:hover {
			background-color: #707;
		}

		.button:focus {
			outline: none;
		}

		.wc_caption {
			background-color: rgba(255, 255, 255, .85);
			width: 80%;
			font-family: 'Nunito', sans-serif;
			font-size: 15px;
			color: #505;
			margin: auto;
			margin-bottom: 20px;
			line-height: 1.5;
		}

		#rank_plot {
			max-width: 100%;
			margin-top: -10px;
			margin-left: 35px;
			margin-right: 35px;
		}

		#rank_svg {
			max-width: 100%;
			display: block;
			margin: auto;
			background-color: rgba(255, 255, 255, .85);
			margin-top: -275px;
		}

		.rank_caption {
			background-color: rgba(255, 255, 255, .85);
			width: 100%;
			font-family: 'Nunito', sans-serif;
			font-size: 15px;
			color: #505;
			margin: auto;
			margin-bottom: 20px;
			line-height: 1.5;
		}

		.select {
			display:flex;
			flex-direction: column;
			position:relative;
			width:175px;
			height:250px;
			overflow: auto;
			color: #fff;
			border-radius: 6px;
			font-family: 'Nunito', sans-serif;
		}

		.option {
			padding:0 30px 0 20px;
			min-height:40px;
			display:flex;
			align-items:center;
			background:#505;
			border-top:#222 solid 1px;
			position:absolute;
			top:0;
			width: 100%;
			pointer-events:none;
			order:2;
			z-index:1;
			transition:background .4s ease-in-out;
			box-sizing:border-box;
			overflow:hidden;
			white-space:nowrap;		
		}

		.option:hover {
			background:#747;
		}

		.select:focus .option {
			position:relative;
			pointer-events:all;
			}

		input {
			opacity:0;
			position:absolute;
			left:-99999px;
		}

		input:checked + label {
			order: 1;
			z-index:2;
			background:#636;
			border-top:none;
			position:relative;
		}

		input:checked + label:after {
			content:'';
			width: 0; 
			height: 0; 
			border-left: 5px solid transparent;
			border-right: 5px solid transparent;
			border-top: 5px solid white;
			position:absolute;
			right:10px;
			top:calc(50% - 2.5px);
			pointer-events:none;
			z-index:3;
		}

		input:checked + label:before {
			position:absolute;
			right:0;
			height: 40px;
			width: 40px;
			content: '';
			background:#636;
		}

		@media only screen and (min-width: 600px) {
			.title {
				font-size: 72px;
			}
			.intro__hed {
				font-size: 25px;
			}
			.prose1, .prose2 {
				font-size: 17px;
			}
			#word_chains {
				margin-top: -10px;
			}
			.wc_caption {
				width: 90%;
			}
		}
		@media only screen and (min-width: 768px) {
			html {
				background-image: url('https://www.devangthakkar.com/design/assets/bg_blur.png');
				background-size: 600px 515px;
				background-repeat: repeat;
			}
			#main_div {
				position: absolute;
				left:50%;
				/*top:50%;*/
				width: 705px;
				margin-left: -350px;
				margin
				min-height: 1280px;
				max-width: 100%;
			}
			.title {
				font-size: 72px;
			}
			.intro__hed {
				font-size: 25px;
				padding-top: 0px;
				padding-bottom: 20px;
			}
			.name {
				padding-bottom: 30px;
			}

			#wc_svg {
				box-shadow: 10px -10px 30px 30px rgba(255, 255, 255,.85);
			}

			.prose1, .prose2 {
				font-size: 17px;
				box-shadow: 10px -10px 30px 30px rgba(255, 255, 255,.85);
			}

			.wc_caption{
				margin-bottom: 30px;
				box-shadow: 10px -10px 30px 30px rgba(255, 255, 255,.85);
			}

			#rank_svg {
				box-shadow: 10px -10px 30px 30px rgba(255, 255, 255,.85);
			}

			.rank_caption{
				margin-bottom: 30px;
				box-shadow: 10px -10px 30px 30px rgba(255, 255, 255,.85);
			}
		}
	</style>

</head>

<body>
	<div id='main_div'>

		<section id='intro'>
			<p id='title' class='title'>Loss in<br/>Translation</p>
			<p id='intro__hed' class='intro__hed'>A study on the invertibility of translation between languages</p>

			<div style='text-align:center'><a id='name_link' href='https://www.devangthakkar.com'>Devang Thakkar</a></div>
			<p id='name' class='name'>26<sup>th</sup> July, 2018</p>

			<p class='prose1'>'Do you know Languages? What's the French for fiddle-de-dee?' questions the Red Queen, aiming to perplex Alice in Lewis Carroll’s Through the Looking Glass. “If you'll tell me what language "fiddle-de-dee" is, I'll tell you the French for it” replies Alice, continuing the nonsensical repartee that builds up a large fraction of the corpus. <br/><br/>

			A present-day adaptation of this highly underrated sequel would probably gloss over the aforementioned conversation since not knowing the language of the source text would no longer be an impediment for an Alice with a smartphone. The quality of machine translation has improved exponentially in the last few decades and now with the advent of neural machine translation, we have now reached closer to human translation than ever before. Despite these advances, there will always be certain limitations to machine translation, not due to the machine aspect of it rather due to the inherent limitations of the process of translation.<br/><br/>

			Languages do not always have a one-to-one correspondence, meaning that (i) not every word in a given language may have a befitting analog in every other language, and (ii) some words in a language may be translated into multiple equally appropriate words in other languages. I examine this correspondence by analysing the translations of the top 1000 nouns as enumerated in the Corpus of Contemporary American English. (More about the implementation and the limitations in the methodology section.) To understand better what I’m trying to put forth, check out the demonstration of imperfect circular translations below.<br/><br/></p>

			<p id='word_chain_counter_id' class='word_chain_counter'>0</p>

		</section>

		<div id='word_chains' text-align='center'>
			<svg id='wc_svg' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='625px' height='180px' align='center' viewBox='0 0 625 180' enable-background='new 0 0 625 180' xml:space='preserve'>

				<g id='lang' text-anchor='middle' font-size='16' font-weight='400' stroke='none' fill='#505' font-family="'Nunito'">
					<text id='lang_text' display='block' transform='matrix(1 0 0 1 312 20)' style='bold'>Hindi (hi): stock</text>
				</g>

				<g id='legit_curve' stroke-width='2' stroke-dasharray='6' stroke='#505' fill='none'>
					<path id='c1' display='block' d='M129,97c0-24.45-19.82-44.28-44.28-44.28c-24.45,0-44.28,19.82-44.28,44.28'/>
					<path id='c2' display='block' d='M129,101c0,24.45,19.82,44.28,44.28,44.28c24.45,0,44.28-19.82,44.28-44.28'/>
					<path id='c3' display='block' d='M306.1,97c0-24.45-19.82-44.28-44.28-44.28c-24.45,0-44.28,19.82-44.28,44.28'/>
					<path id='c4' display='block' d='M306.1,101c0,24.45,19.82,44.28,44.28,44.28s44.28-19.82,44.28-44.28'/>
					<path id='c5' display='block' d='M483.2,97c0-24.45-19.82-44.28-44.28-44.28c-24.45,0-44.28,19.82-44.28,44.28'/>
					<path id='c6' display='block' d='M483.2,101c0,24.45,19.82,44.28,44.28,44.28c24.45,0,44.28-19.82,44.28-44.28'/>
				</g>

				<g id='final_curve' stroke-width='2' stroke-dasharray='6' stroke='#505' fill='none'>
					<path id='d1' display='none' d='M40.4,101c0,24.45,19.82,44.28,44.28,44.28c24.45,0,44.28-19.82,44.28-44.28'/>
					<path id='d2' display='none' d='M217.5,97c0-24.45-19.82-44.28-44.28-44.28c-24.45,0-44.28,19.82-44.28,44.28'/>
					<path id='d3' display='none' d='M217.5,101c0,24.45,19.82,44.28,44.28,44.28s44.28-19.82,44.28-44.28'/>
					<path id='d4' display='none' d='M394.6,97c0-24.45-19.82-44.28-44.28-44.28c-24.45,0-44.28,19.82-44.28,44.28'/>
					<path id='d5' display='none' d='M394.6,101c0,24.45,19.82,44.28,44.28,44.28c24.45,0,44.28-19.82,44.28-44.28'/>
					<path id='d6' display='block' d='M571.8,97c0-24.45-19.82-44.28-44.28-44.28c-24.45,0-44.28,19.82-44.28,44.28'/>
				</g>

				<g fill='#fff' stroke='none'>
					<rect width='5px' height='20px' x='37.9px' y='90px'></rect>
					<rect width='5px' height='20px' x='126.5px' y='90px'></rect>
					<rect width='5px' height='20px' x='215px' y='90px'></rect>
					<rect width='5px' height='20px' x='303.6px' y='90px'></rect>
					<rect width='5px' height='20px' x='392.1px' y='90px'></rect>
					<rect width='5px' height='20px' x='480.8px' y='90px'></rect>
					<rect width='5px' height='20px' x='569.3px' y='90px'></rect>
				</g>

				<g id='text' text-anchor='middle' font-size='15' font-weight='400' stroke='none' fill='#505' font-family="'Nunito'">
					<text id='t1o' transform='matrix(1 0 0 1 40.4 105)'>stock</text>
					<text id='t1t' transform='matrix(1 0 0 1 129 105)'>भण्डार</text>
					<text id='t2o' transform='matrix(1 0 0 1 217.5 105)'>stores</text>
					<text id='t2t' transform='matrix(1 0 0 1 306.1 105)'>स्टोर</text>
					<text id='t3o' transform='matrix(1 0 0 1 394.6 105)'>store</text>
					<text id='t3t' transform='matrix(1 0 0 1 483.2 105)'>दुकान</text>
					<text id='t4o' transform='matrix(1 0 0 1 571.8 105)'>shop</text>
				</g>
			</svg>

			<div id='button_div' style='text-align:center;'>
				<button id='button_id' class='button' align='center'>New chain!</button>
			</div>

			<p class='wc_caption'>Figure 1. The chain follows the trajectory of a word as it is translated back and forth. The top arcs represent the translation from English to the other language, while the bottom arcs represent the translation back to English. The final word in the chain gets translated to a word that already exists in the chain.</p>

		</div>

		<section id='post_wc'>
			<p class='prose2'>One can see that the translation from English to another language and back to English leads a different word/phrase as compared to the original word. These chains may go on for multiple levels before a stationary translation is found (more about this later). The next step is to analyse the relation between the number of these imperfect circular translations and the characteristics of the language. Germanic languages seem to perform the best with the fewest number of imperfect circular translations whereas languages from the Niger-Congo family dominate the bottom. (In order to ensure that I was not cherry picking the set size, I computed the rankings for the top 500 and 1500 nouns as well. The individual standings of the languages shift slightly, but the overall trend of the families remains the same.)<br/><br/></p>
		</section>

		<div id='rank_plot' text-align='centre'>
			<p id='rank_plot_counter_id' class='rank_plot_counter'>1</p>
			<div id='rank_dropdown' class='select' tabindex='1'>
				<input class='selectopt' name='test' type='radio' id='opt1' checked onclick='setHighlight(this);'>
				<label for='opt1' class='option'>Germanic</label>
				<input class='selectopt' name='test' type='radio' id='opt2' onclick='setHighlight(this);'>
				<label for='opt2' class='option'>Slavic</label>
				<input class='selectopt' name='test' type='radio' id='opt3' onclick='setHighlight(this);'>
				<label for='opt3' class='option'>Romance</label>
				<input class='selectopt' name='test' type='radio' id='opt4' onclick='setHighlight(this);'>
				<label for='opt4' class='option'>Austronesian</label>
				<input class='selectopt' name='test' type='radio' id='opt5' onclick='setHighlight(this);'>
				<label for='opt5' class='option'>Indic</label>
				<input class='selectopt' name='test' type='radio' id='opt6' onclick='setHighlight(this);'>
				<label for='opt6' class='option'>Niger-Congo</label>
				<input class='selectopt' name='test' type='radio' id='opt7' onclick='setHighlight(this);'>
				<label for='opt7' class='option'>Afroasiatic</label>
				<input class='selectopt' name='test' type='radio' id='opt8' onclick='setHighlight(this);'>
				<label for='opt8' class='option'>Turkic</label>
				<input class='selectopt' name='test' type='radio' id='opt9' onclick='setHighlight(this);'>
				<label for='opt9' class='option'>Iranian</label>
				<input class='selectopt' name='test' type='radio' id='opt10' onclick='setHighlight(this);'>
				<label for='opt10' class='option'>Sino-Tibetan</label>
				<input class='selectopt' name='test' type='radio' id='opt11' onclick='setHighlight(this);'>
				<label for='opt11' class='option'>Dravidian</label>
				<input class='selectopt' name='test' type='radio' id='opt12' onclick='setHighlight(this);'>
				<label for='opt12' class='option'>Uralic</label>
				<input class='selectopt' name='test' type='radio' id='opt13' onclick='setHighlight(this);'>
				<label for='opt13' class='option'>Celtic</label>
				<input class='selectopt' name='test' type='radio' id='opt14' onclick='setHighlight(this);'>
				<label for='opt14' class='option'>Krai-Dai</label>
				<input class='selectopt' name='test' type='radio' id='opt15' onclick='setHighlight(this);'>
				<label for='opt15' class='option'>Austroasiatic</label>
				<input class='selectopt' name='test' type='radio' id='opt16' onclick='setHighlight(this);'>
				<label for='opt16' class='option'>Baltic</label>
				<input class='selectopt' name='test' type='radio' id='opt17' onclick='setHighlight(this);'>
				<label for='opt17' class='option'>Albanian</label>
				<input class='selectopt' name='test' type='radio' id='opt18' onclick='setHighlight(this);'>
				<label for='opt18' class='option'>Armenian</label>
				<input class='selectopt' name='test' type='radio' id='opt19' onclick='setHighlight(this);'>
				<label for='opt19' class='option'>Basque</label>
				<input class='selectopt' name='test' type='radio' id='opt20' onclick='setHighlight(this);'>
				<label for='opt20' class='option'>Esperanto</label>
				<input class='selectopt' name='test' type='radio' id='opt21' onclick='setHighlight(this);'>
				<label for='opt21' class='option'>Hellenic</label>
				<input class='selectopt' name='test' type='radio' id='opt22' onclick='setHighlight(this);'>
				<label for='opt22' class='option'>Iberian</label>
				<input class='selectopt' name='test' type='radio' id='opt23' onclick='setHighlight(this);'>
				<label for='opt23' class='option'>Japonic</label>
				<input class='selectopt' name='test' type='radio' id='opt24' onclick='setHighlight(this);'>
				<label for='opt24' class='option'>Korean</label>
				<input class='selectopt' name='test' type='radio' id='opt25' onclick='setHighlight(this);'>
				<label for='opt25' class='option'>Mongolic</label>
			</div>

			<svg id='rank_svg' enable-background='new 0 0 900 450' version='1.1' viewBox='0 0 900 450' xml:space='preserve' align='center' xmlns='http://www.w3.org/2000/svg' x='0px' y='0px' width='900px' height='450px' xmlns:xlink='http://www.w3.org/1999/xlink'>
				<g id='super_rank' fill='none' stroke-width='7.5' stroke='#747'>
					<g id='lang1' stroke='#505'>
						<line y1='500' x1='50' x2='50' y2='413' t='Swedish'/>
						<line y1='500' x1='58' x2='58' y2='413' t='Norwegian'/>
						<line y1='500' x1='66' x2='66' y2='412' t='Yiddish'/>
						<line y1='500' x1='74' x2='74' y2='407' t='Dutch'/>
						<line y1='500' x1='98' x2='98' y2='403' t='Danish'/>
						<line y1='500' x1='106' x2='106' y2='402' t='Afrikaans'/>
						<line y1='500' x1='290' x2='290' y2='373' t='German'/>
						<line y1='500' x1='418' x2='418' y2='344' t='Icelandic'/>
						<line y1='500' x1='434' x2='434' y2='343' t='Frisian'/>
						<line y1='500' x1='482' x2='482' y2='333' t='Luxembourgish'/>
					</g>

					<g id='lang2' stroke='#747'>
						<line y1='500' x1='82' x2='82' y2='405' t='Polish'/>
						<line y1='500' x1='114' x2='114' y2='399' t='Macedonian'/>
						<line y1='500' x1='122' x2='122' y2='398' t='Bosnian'/>
						<line y1='500' x1='130' x2='130' y2='398' t='Czech'/>
						<line y1='500' x1='154' x2='154' y2='396' t='Bulgarian'/>
						<line y1='500' x1='162' x2='162' y2='395' t='Ukrainian'/>
						<line y1='500' x1='170' x2='170' y2='393' t='Croatian'/>
						<line y1='500' x1='274' x2='274' y2='375' t='Belarusian'/>
						<line y1='500' x1='282' x2='282' y2='374' t='Slovenian'/>
						<line y1='500' x1='402' x2='402' y2='347' t='Russian'/>
						<line y1='500' x1='490' x2='490' y2='333' t='Slovak'/>
						<line y1='500' x1='498' x2='498' y2='327' t='Serbian'/>
					</g>

					<g id='lang3' stroke='#747'>
						<line y1='500' x1='138' x2='138' y2='398' t='Galician'/>
						<line y1='500' x1='146' x2='146' y2='398' t='Italian'/>
						<line y1='500' x1='186' x2='186' y2='389' t='French'/>
						<line y1='500' x1='202' x2='202' y2='388' t='Spanish'/>
						<line y1='500' x1='234' x2='234' y2='381' t='Catalan'/>
						<line y1='500' x1='250' x2='250' y2='381' t='Portuguese'/>
						<line y1='500' x1='266' x2='266' y2='376' t='Romanian'/>
						<line y1='500' x1='442' x2='442' y2='339' t='Haitian Creole'/>
						<line y1='500' x1='530' x2='530' y2='320' t='Latin'/>
						<line y1='500' x1='562' x2='562' y2='312' t='Corsican'/>
					</g>

					<g id='lang4' stroke='#747'>
						<line y1='500' x1='194' x2='194' y2='389' t='Filipino'/>
						<line y1='500' x1='328' x2='328' y2='362' t='Indonesian'/>
						<line y1='500' x1='394' x2='394' y2='350' t='Malay'/>
						<line y1='500' x1='426' x2='426' y2='344' t='Sundanese'/>
						<line y1='500' x1='458' x2='458' y2='338' t='Javanese'/>
						<line y1='500' x1='554' x2='554' y2='315' t='Cebuano'/>
						<line y1='500' x1='754' x2='754' y2='234' t='Malagasy'/>
						<line y1='500' x1='826' x2='826' y2='200' t='Samoan'/>
						<line y1='500' x1='834' x2='834' y2='186' t='Maori'/>
						<line y1='500' x1='858' x2='858' y2='89' t='Hawaiian'/>
					</g>

					<g id='lang5' stroke='#747'>
						<line y1='500' x1='306' x2='306' y2='372' t='Gujarati'/>
						<line y1='500' x1='506' x2='506' y2='325' t='Punjabi'/>
						<line y1='500' x1='514' x2='514' y2='323' t='Marathi'/>
						<line y1='500' x1='570' x2='570' y2='309' t='Nepali'/>
						<line y1='500' x1='578' x2='578' y2='309' t='Urdu'/>
						<line y1='500' x1='586' x2='586' y2='306' t='Bengali'/>
						<line y1='500' x1='658' x2='658' y2='284' t='Sinhala'/>
						<line y1='500' x1='610' x2='610' y2='298' t='Hindi'/>
						<line y1='500' x1='810' x2='810' y2='205' t='Sindhi'/>
					</g>

					<g id='lang6' stroke='#747'>
						<line y1='500' x1='634' x2='634' y2='293' t='Swahili'/>
						<line y1='500' x1='730' x2='730' y2='258' t='Zulu'/>
						<line y1='500' x1='746' x2='746' y2='245' t='Yoruba'/>
						<line y1='500' x1='770' x2='770' y2='229' t='Xhosa'/>
						<line y1='500' x1='794' x2='794' y2='224' t='Shona'/>
						<line y1='500' x1='918' x2='918' y2='202' t='Igbo'/>
						<line y1='500' x1='842' x2='842' y2='156' t='Chichewa'/>
						<line y1='500' x1='850' x2='850' y2='152' t='Sesotho'/>
					</g>

					<g id='lang7' stroke='#747'>
						<line y1='500' x1='90' x2='90' y2='405' t='Maltese'/>
						<line y1='500' x1='466' x2='466' y2='336' t='Hebrew'/>
						<line y1='500' x1='666' x2='666' y2='284' t='Amharic'/>
						<line y1='500' x1='762' x2='762' y2='233' t='Somali'/>
						<line y1='500' x1='682' x2='682' y2='278' t='Arabic'/>
						<line y1='500' x1='690' x2='690' y2='276' t='Hausa'/>
					</g>

					<g id='lang8' stroke='#747'>
						<line y1='500' x1='298' x2='298' y2='373' t='Turkish'/>
						<line y1='500' x1='410' x2='410' y2='346' t='Azerbaijani'/>
						<line y1='500' x1='546' x2='546' y2='315' t='Kazakh'/>
						<line y1='500' x1='618' x2='618' y2='296' t='Uzbek'/>
						<line y1='500' x1='786' x2='786' y2='226' t='Kyrgyz'/>
					</g>

					<g id='lang9' stroke='#747'>
						<line y1='500' x1='594' x2='594' y2='306' t='Persian'/>
						<line y1='500' x1='722' x2='722' y2='264' t='Tajik'/>
						<line y1='500' x1='778' x2='778' y2='227' t='Pashto'/>
						<line y1='500' x1='866' x2='866' y2='42' t='Kurdish (Kurmanji)'/>
					</g>

					<g id='lang10' stroke='#747'>
						<line y1='500' x1='322' x2='322' y2='365' t='Myanmar (Burmese)'/>
						<line y1='500' x1='354' x2='354' y2='357' t='Chinese'/>
						<line y1='500' x1='362' x2='362' y2='357' t='Chinese Traditional'/>
						<line y1='500' x1='802' x2='802' y2='224' t='Hmong'/>
					</g>

					<g id='lang11' stroke='#747'>
						<line y1='500' x1='378' x2='378' y2='350' t='Telugu'/>
						<line y1='500' x1='450' x2='450' y2='338' t='Kannada'/>
						<line y1='500' x1='522' x2='522' y2='322' t='Malayalam'/>
						<line y1='500' x1='674' x2='674' y2='283' t='Tamil'/>
					</g>

					<g id='lang12' stroke='#747'>
						<line y1='500' x1='210' x2='210' y2='386' t='Finnish'/>
						<line y1='500' x1='218' x2='218' y2='386' t='Hungarian'/>
						<line y1='500' x1='738' x2='738' y2='254' t='Estonian'/>
					</g>

					<g id='lang13' stroke='#747'>
						<line y1='500' x1='258' x2='258' y2='379' t='Irish'/>
						<line y1='500' x1='314' x2='314' y2='371' t='Welsh'/>
						<line y1='500' x1='650' x2='650' y2='286' t='Scots Gaelic'/>
					</g>

					<g id='lang14' stroke='#747'>
						<line y1='500' x1='386' x2='386' y2='350' t='Thai'/>
						<line y1='500' x1='602' x2='602' y2='298' t='Lao'/>
					</g>

					<g id='lang15' stroke='#747'>
						<line y1='500' x1='706' x2='706' y2='272' t='Khmer'/>
						<line y1='500' x1='474' x2='474' y2='334' t='Vietnamese'/>
					</g>

					<g id='lang16' stroke='#747'>
						<line y1='500' x1='698' x2='698' y2='273' t='Lithuanian'/>
						<line y1='500' x1='714' x2='714' y2='270' t='Latvian'/>
					</g>

					<line y1='500' x1='226' x2='226' y2='383' t='Albanian' id='lang17'/>
					<line y1='500' x1='642' x2='642' y2='286' t='Armenian' id='lang18'/>
					<line y1='500' x1='370' x2='370' y2='355' t='Basque' id='lang19'/>
					<line y1='500' x1='242' x2='242' y2='381' t='Esperanto' id='lang20'/>
					<line y1='500' x1='330' x2='330' y2='365' t='Greek' id='lang21'/>
					<line y1='500' x1='538' x2='538' y2='318' t='Georgian' id='lang22'/>
					<line y1='500' x1='178' x2='178' y2='390' t='Japanese' id='lang23'/>
					<line y1='500' x1='346' x2='346' y2='362' t='Korean' id='lang24'/>
					<line y1='500' x1='626' x2='626' y2='296' t='Mongolian' id='lang25'/>

				</g>

				<g id='rank_tooltip' visibility='hidden'>
					<rect width='40' height='24' fill='#eae' rx='4' ry='4' id='tooltip-box'/>
					<text x='5' y='18' id='tooltip-text' font-family="'Nunito'" font-size='20px' fill='#fff'>Tooltip</text>
				</g>
			</svg>

			<p class='rank_caption'>Figure 2. The chain follows the trajectory of a word as it is translated back and forth. The top arcs represent the translation from English to the other language, while the bottom arcs represent the translation back to English. The final word in the chain gets translated to a word that already exists in the chain.</p>

		</div>
	</div>

	<script>

		// remove br if screen width > 600
		var jmediaquery1 = window.matchMedia('(min-width: 600px)');
		if (jmediaquery1.matches) {
			document.getElementById('title').innerHTML = 'Loss in Translation';
			var img = new Image();
			img.onload = function() {
				document.getElementsByTagName('html')[0].style.backgroundImage='url("https://www.devangthakkar.com/design/assets/bg.png")';
				document.getElementById('main_div').style.backgroundColor='rgba(255, 255, 255, .5)';
				document.getElementById('word_chains').style.backgroundColor='rgba(255, 255, 255, .5)';
			};
			img.src = 'https://www.devangthakkar.com/design/assets/bg.png';
		}

		// async load bg if screen width > 992
		var jmediaquery2 = window.matchMedia('(min-width: 768px)');
		if (jmediaquery2.matches) {
			var img = new Image();
			img.onload = function() {
				document.getElementsByTagName('html')[0].style.backgroundImage='url("https://www.devangthakkar.com/design/assets/bg.png")';
				document.getElementById('main_div').style.boxShadow='0px 0px 10px 10px rgba(255, 255, 255, .5)';
				document.getElementById('main_div').style.backgroundColor='rgba(255, 255, 255, .5)';
				document.getElementById('word_chains').style.boxShadow='0px 0px 10px 10px rgba(255, 255, 255, .5)';
				document.getElementById('word_chains').style.backgroundColor='rgba(255, 255, 255, .5)';
			};
			img.src = 'https://www.devangthakkar.com/design/assets/bg.png';
		}

		// change highlight on rank plot based on dropdown
		function setHighlight(select) {
			var selected=select.id;
			console.log(selected);

			var previous_rank=document.getElementById('rank_plot_counter_id').innerHTML;
			console.log(previous_rank);

			var sel_num=selected.replace('opt', '');
			console.log(sel_num);
			document.getElementById('rank_plot_counter_id').innerHTML=sel_num;
			
			document.getElementById('lang'.concat(previous_rank)).style.stroke='#747';
			console.log('lang'.concat(sel_num.toString()))
			
			document.getElementById('lang'.concat(sel_num.toString())).style.stroke='#505';
		};

		// change image on button press
		const translations = [
			{lang:'French', lang_code:'fr', chain:['matter', 'matière', 'material', 'matériel', 'equipment', 'équipement']},
			{lang:'Persian', lang_code:'fa', chain:['trouble', 'مشکل', 'problem', 'مسئله', 'question', 'سوال']},
			{lang:'German', lang_code:'de', chain:['lack', 'mangel', 'defect', 'defekt', 'malfunction', 'fehlfunktion']},
			{lang:'Chinese', lang_code:'zh-CN', chain:['place', '地点', 'location', '位置', 'position']},
			{lang:'Malayalam', lang_code:'ml', chain:['sector', 'മേഖല', 'region', 'പ്രദേശം', 'the area']},
			{lang:'Italian', lang_code:'it', chain:['question', 'domanda', 'demand', 'richiesta', 'request']},
			{lang:'Marathi', lang_code:'mr', chain:['dish', 'ताटली', 'talley', 'ताली', 'clap', 'फडफड', 'flap']},
			{lang:'Swedish', lang_code:'sv', chain:['number', 'siffra', 'figure', 'figur']},
			{lang:'Bengali', lang_code:'bn', chain:['drug', 'ড্রাগ', 'drugs', 'ওষুধের', 'medicines', 'ওষুধ']},
			{lang:'Latin', lang_code:'la', chain:['method', 'modum', 'limit', 'terminus', 'the border']},
			{lang:'Croatian', lang_code:'hr', chain:['country', 'zemlja', 'earth']},
			{lang:'Czech', lang_code:'cs', chain:['matter', 'hmota', 'mass', 'hmotnost', 'weight']},
			{lang:'Danish', lang_code:'da', chain:['firm', 'firma', 'business', 'forretning']},
			{lang:'Norwegian', lang_code:'no', chain:['show', 'forestilling', 'performance', 'opptreden']},
			{lang:'Arabic', lang_code:'ar', chain:['group', 'مجموعة', 'collection']},
			{lang:'Dutch', lang_code:'nl', chain:['problem', 'probleem', 'issue', 'kwestie', 'matter', 'er toe doen']},
			{lang:'Esperanto', lang_code:'eo', chain:['money', 'mono', 'monkey', 'simio']},
			{lang:'Finnish', lang_code:'fi', chain:['bill', 'laskuttaa', 'charge', 'veloittaa']},
			{lang:'Greek', lang_code:'el', chain:['hour', 'ώρα', 'time', 'χρόνος', 'year', 'έτος']},
			{lang:'Afrikaans', lang_code:'af', chain:['question', 'vraag', 'demand']},
			{lang:'French', lang_code:'fr', chain:['hall', 'salle', 'room', 'chambre', 'bedroom']},
			{lang:'Hebrew', lang_code:'iw', chain:['reason', 'סיבה', 'cause', 'גורם', 'factor']},
			{lang:'Portuguese', lang_code:'pt', chain:['lead', 'conduzir', 'drive', 'dirigir', 'to drive']},
			{lang:'Japanese', lang_code:'ja', chain:['setting', '設定', 'configuration', '構成', 'constitution', '憲法']},
			{lang:'Russian', lang_code:'ru', chain:['works', 'работает', 'working', 'за работой', 'at work', 'на работе']},
			{lang:'Spanish', lang_code:'es', chain:['approach', 'enfoque', 'focus', 'atención', 'attention']},
			{lang:'Turkish', lang_code:'tr', chain:['incident', 'olay', 'event', 'etkinlik', 'activity', 'aktivite']},
			{lang:'Hindi', lang_code:'hi', chain:['soul', 'अन्त: मन', 'inner heart', 'आंतरिक दिल', 'internal heart']},
			{lang:'Urdu', lang_code:'ur', chain:['proposal', 'تجویز', 'suggestion', 'مشورہ', 'advice']},
			];

		document.getElementById('button_id').onclick = function(){
			var counter = document.getElementById('word_chain_counter_id').innerHTML;

			if (counter == 28 || counter == '28') {
				document.getElementById('word_chain_counter_id').innerHTML = 0;
			}
			else {
				document.getElementById('word_chain_counter_id').innerHTML = (parseInt(counter)+1);
			}

			var selected = translations[counter];
			var chain = selected['chain'];
			console.log(chain);
			var chain_length = chain.length;

			document.getElementById('c1').style.display = 'block';
			document.getElementById('c2').style.display = 'block';
			document.getElementById('c3').style.display = 'none';
			document.getElementById('c4').style.display = 'none';
			document.getElementById('c5').style.display = 'none';
			document.getElementById('c6').style.display = 'none';

			document.getElementById('d1').style.display = 'none';
			document.getElementById('d2').style.display = 'none';
			document.getElementById('d3').style.display = 'none';
			document.getElementById('d4').style.display = 'none';
			document.getElementById('d5').style.display = 'none';
			document.getElementById('d6').style.display = 'none';			

			document.getElementById('t1o').textContent = '';
			document.getElementById('t1t').textContent = '';
			document.getElementById('t2o').textContent = '';
			document.getElementById('t2t').textContent = '';
			document.getElementById('t3o').textContent = '';
			document.getElementById('t3t').textContent = '';
			document.getElementById('t4o').textContent = '';

			var combo = selected['lang'].concat('('.concat(selected['lang_code'].concat(')')))
			combo = combo.concat(': '.concat(selected['chain'][0]));
			console.log(combo);

			document.getElementById('lang_text').textContent = combo;

			// draw actual curves
			if (chain_length > 3) {
				document.getElementById('c3').style.display = 'block';
			}

			if (chain_length > 4) {
				document.getElementById('c4').style.display = 'block';
			}

			if (chain_length > 5) {
				document.getElementById('c5').style.display = 'block';
			}

			if (chain_length > 6) {
				document.getElementById('c6').style.display = 'block';
			}
			
			// draw closing curve and add text
			if (chain_length == 3) {
				document.getElementById('d2').style.display = 'block';
				document.getElementById('t1o').textContent = chain[0];
				document.getElementById('t1t').textContent = chain[1];
				document.getElementById('t2o').textContent = chain[2];
			}

			if (chain_length == 4) {
				document.getElementById('d3').style.display = 'block';
				document.getElementById('t1o').textContent = chain[0];
				document.getElementById('t1t').textContent = chain[1];
				document.getElementById('t2o').textContent = chain[2];
				document.getElementById('t2t').textContent = chain[3];
			}

			if (chain_length == 5) {
				document.getElementById('d4').style.display = 'block';
				document.getElementById('t1o').textContent = chain[0];
				document.getElementById('t1t').textContent = chain[1];
				document.getElementById('t2o').textContent = chain[2];
				document.getElementById('t2t').textContent = chain[3];
				document.getElementById('t3o').textContent = chain[4];
			}

			if (chain_length == 6) {
				document.getElementById('d5').style.display = 'block';
				document.getElementById('t1o').textContent = chain[0];
				document.getElementById('t1t').textContent = chain[1];
				document.getElementById('t2o').textContent = chain[2];
				document.getElementById('t2t').textContent = chain[3];
				document.getElementById('t3o').textContent = chain[4];
				document.getElementById('t3t').textContent = chain[5];
			}

			if (chain_length == 7) {
				document.getElementById('d6').style.display = 'block';
				document.getElementById('t1o').textContent = chain[0];
				document.getElementById('t1t').textContent = chain[1];
				document.getElementById('t2o').textContent = chain[2];
				document.getElementById('t2t').textContent = chain[3];
				document.getElementById('t3o').textContent = chain[4];
				document.getElementById('t3t').textContent = chain[5];
				document.getElementById('t4o').textContent = chain[6];
			}
		};

	</script>

	<script type='text/javascript'>

		// add hovering capabilities to rank plot

		var svg_rank = document.getElementById('rank_svg');
		var rank_tooltip = svg_rank.getElementById('rank_tooltip');
		var active_lang_id = 'lang'.concat(document.getElementById('rank_plot_counter_id'));
		var rank_tooltipText = rank_tooltip.getElementsByTagName('text')[0];
		var triggers_rank = svg_rank.getElementsByTagName('line');

		for (var i = 0; i < triggers_rank.length; i++) {
			triggers_rank[i].addEventListener('mousemove', showTooltip);
			triggers_rank[i].addEventListener('mouseout', hideTooltip);
		}

		function showTooltip(evt) {
			var CTM_rank = svg_rank.getScreenCTM();
			var length_rank = rank_tooltipText.getComputedTextLength();
			var x_rank = (evt.clientX - CTM_rank.e - length_rank/2) / CTM_rank.a;
			var y_rank = (evt.clientY - CTM_rank.f - 50) / CTM_rank.d;
			rank_tooltip.setAttributeNS(null, 'transform', 'translate(' + x_rank + ' ' + y_rank + ')');
			rank_tooltip.setAttributeNS(null, 'visibility', 'visible');
			rank_tooltipText.firstChild.data = evt.target.getAttributeNS(null, 't');

			var tooltipRects_rank = rank_tooltip.getElementsByTagName('rect');
			for (var i = 0; i < tooltipRects_rank.length; i++) {
				tooltipRects_rank[i].setAttributeNS(null, 'width', length_rank+10);
			}
		}

		function hideTooltip(evt) {
			rank_tooltip.setAttributeNS(null, 'visibility', 'hidden');
		}
	</script>
</body>